/**
 * sailor-twitter - Twitter clon based on Sailor
 * @version v1.0.0
 * @link    http://tapquo.com
 * @author   ()
 * @license MIT
 */
(function(){"use strict";var t,n=[].indexOf||function(t){for(var n=0,e=this.length;e>n;n++)if(n in this&&this[n]===t)return n;return-1};t=function(){var t,n,e,r,i,u,o,a,c,l,s,f,h,d,p,v,g;return r=[],a=Object.prototype,o=/^\s*<(\w+|!)[^>]*>/,e=[1,9,11],n=/^\.([\w-]+)$/,u=/^#[\w\d-]+$/,s=/^[\w-]+$/,c=document.createElement("table"),l=document.createElement("tr"),i={tr:document.createElement("tbody"),tbody:c,thead:c,tfoot:c,td:l,th:l,"*":document.createElement("div")},t=function(n,e){var r;return n?"function"===t.toType(n)?t(document).ready(n):(r=p(n,e),v(r,n)):v()},t.query=function(t,e){var r;return n.test(e)?r=t.getElementsByClassName(e.replace(".","")):s.test(e)?r=t.getElementsByTagName(e):u.test(e)&&t===document?(r=t.getElementById(e.replace("#","")),r||(r=[])):r=t.querySelectorAll(e),r.nodeType?[r]:Array.prototype.slice.call(r)},t.extend=function(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){var e,r;r=[];for(e in n)r.push(t[e]=n[e]);return r}),t},t.toType=function(t){return a.toString.call(t).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},t.each=function(n,e){var r,i,u,o,a;if(i=void 0,u=void 0,"array"===t.toType(n))for(i=o=0,a=n.length;a>o;i=++o)r=n[i],e.call(r,i,r)===!1;else for(u in n)e.call(n[u],u,n[u])===!1;return n},t.map=function(n,e){var r,i,u,o;if(o=[],r=void 0,i=void 0,"array"===t.toType(n))for(r=0;r<n.length;)u=e(n[r],r),null!=u&&o.push(u),r++;else for(i in n)u=e(n[i],i),null!=u&&o.push(u);return h(o)},t.mix=function(){var t,n,e,r,i;for(e={},t=0,r=arguments.length;r>t;){n=arguments[t];for(i in n)g(n,i)&&void 0!==n[i]&&(e[i]=n[i]);t++}return e},v=function(t,n){return null==n&&(n=""),t=t||r,t.selector=n,t.__proto__=v.prototype,t},p=function(n,r){var i,u;return i=null,u=t.toType(n),"array"===u?i=f(n):"string"===u&&o.test(n)?(i=d(n.trim(),RegExp.$1),n=null):"string"===u?(i=t.query(document,n),r&&(i=1===i.length?t.query(i[0],r):t.map(function(){return t.query(i,r)}))):(e.indexOf(n.nodeType)>=0||n===window)&&(i=[n],n=null),i},d=function(n,e){var r;return null==e&&(e="*"),e in i||(e="*"),r=i[e],r.innerHTML=""+n,t.each(Array.prototype.slice.call(r.childNodes),function(){return r.removeChild(this)})},f=function(t){return t.filter(function(t){return null!=t?t:void 0})},h=function(t){return t.length>0?r.concat.apply(r,t):t},g=function(t,n){return a.hasOwnProperty.call(t,n)},v.prototype=t.fn={},t.fn.each=function(t){return this.forEach(function(n,e){return t.call(n,e,n)}),this},t.fn.filter=function(n){return t(r.filter.call(this,function(e){return e.parentNode&&t.query(e.parentNode,n).indexOf(e)>=0}))},t.fn.forEach=r.forEach,t.fn.indexOf=r.indexOf,t.version="3.0.6",t}(),this.Quo=this.$$=t,function(t){var n,e,r,i,u,o,a,c,l,s,f,h;return n={TYPE:"GET",MIME:"json"},r={script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},e=0,t.ajaxSettings={type:n.TYPE,async:!0,success:{},error:{},context:null,dataType:n.MIME,headers:{},xhr:function(){return new window.XMLHttpRequest},crossDomain:!1,timeout:0},t.ajax=function(e){var r,o,c,f;if(c=t.mix(t.ajaxSettings,e),c.type===n.TYPE?c.url+=t.serialize(c.data,"?"):c.data=t.serialize(c.data),i(c.url))return u(c);f=c.xhr(),f.onreadystatechange=function(){return 4===f.readyState?(clearTimeout(r),s(f,c)):void 0},f.open(c.type,c.url,c.async),l(f,c),c.timeout>0&&(r=setTimeout(function(){return h(f,c)},c.timeout));try{f.send(c.data)}catch(d){o=d,f=o,a("Resource not found",f,c)}return f},t.get=function(n,e,r,i){return t.ajax({url:n,data:e,success:r,dataType:i})},t.post=function(t,n,e,r){return c("POST",t,n,e,r)},t.put=function(t,n,e,r){return c("PUT",t,n,e,r)},t["delete"]=function(t,n,e,r){return c("DELETE",t,n,e,r)},t.json=function(n,e,r){return t.ajax({url:n,data:e,success:r})},t.serialize=function(t,n){var e,r;null==n&&(n=""),r=n;for(e in t)t.hasOwnProperty(e)&&(r!==n&&(r+="&"),r+=""+encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return r===n?"":r},u=function(n){var r,i,u,o;return n.async?(i="jsonp"+ ++e,u=document.createElement("script"),o={abort:function(){return t(u).remove(),i in window?window[i]={}:void 0}},r=void 0,window[i]=function(e){return clearTimeout(r),t(u).remove(),delete window[i],f(e,o,n)},u.src=n.url.replace(RegExp("=\\?"),"="+i),t("head").append(u),n.timeout>0&&(r=setTimeout(function(){return h(o,n)},n.timeout)),o):console.error("QuoJS.ajax: Unable to make jsonp synchronous call.")},s=function(t,n){t.status>=200&&t.status<300||0===t.status?n.async&&f(o(t,n),t,n):a("QuoJS.ajax: Unsuccesful request",t,n)},f=function(t,n,e){e.success.call(e.context,t,n)},a=function(t,n,e){e.error.call(e.context,t,n,e)},l=function(t,n){var e;n.contentType&&(n.headers["Content-Type"]=n.contentType),n.dataType&&(n.headers.Accept=r[n.dataType]);for(e in n.headers)t.setRequestHeader(e,n.headers[e])},h=function(t,n){t.onreadystatechange={},t.abort(),a("QuoJS.ajax: Timeout exceeded",t,n)},c=function(n,e,r,i,u){return t.ajax({type:n,url:e,data:r,success:i,dataType:u,contentType:"application/x-www-form-urlencoded"})},i=function(t){return RegExp("=\\?").test(t)},o=function(t,e){var r,i;if(i=t,t.responseText){if(e.dataType===n.MIME)try{i=JSON.parse(t.responseText)}catch(u){r=u,i=r,a("QuoJS.ajax: Parse Error",t,e)}"xml"===e.dataType&&(i=t.responseXML)}return i}}(t),function(t){var n,e;return n=["-webkit-","-moz-","-ms-","-o-",""],t.fn.addClass=function(t){return this.each(function(){return this.classList.add(t)})},t.fn.removeClass=function(t){return this.each(function(){return this.classList.remove(t)})},t.fn.toggleClass=function(t){return this.each(function(){var n;return n=this.classList.contains(t)?"remove":"add",this.classList[n](t)})},t.fn.hasClass=function(t){return this.length>0&&this[0].classList.contains(t)},t.fn.listClass=function(){return this.length>0?this[0].classList:void 0},t.fn.style=t.fn.css=function(t,n){var r;return null!=n?this.each(function(){return this.style[t]=n}):(r=this[0],r.style[t]||e(r,t))},t.fn.vendor=function(t,e){var r,i,u,o;for(o=[],i=0,u=n.length;u>i;i++)r=n[i],o.push(this.style(""+r+t,e));return o},e=function(t,n){return document.defaultView.getComputedStyle(t,"")[n]}}(t),function(t){return t.fn.attr=function(n,e){return this.length>0&&"string"===t.toType(n)?null!=e?this.each(function(){return this.setAttribute(n,e)}):this[0].getAttribute(n):void 0},t.fn.removeAttr=function(n){return this.length>0&&"string"===t.toType(n)?this.each(function(){return this.removeAttribute(n)}):void 0},t.fn.data=function(t,n){return this.attr("data-"+t,n)},t.fn.removeData=function(t){return this.removeAttr("data-"+t)},t.fn.val=function(t){return null!=t?this.each(function(){return this.value=t.toString()}):this.length>0?this[0].value:null},t.fn.show=function(){return this.style("display","block")},t.fn.hide=function(){return this.style("display","none")},t.fn.focus=function(){return this[0].focus()},t.fn.blur=function(){return this[0].blur()},t.fn.offset=function(){var t,n;return this.length>0&&(t=this[0].getBoundingClientRect(),n={left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width,height:t.height}),n}}(t),function(t){var n,e,r,i,u,o;return r=null,n=/WebKit\/([\d.]+)/,e={Android:/(Android)\s+([\d.]+)/,ipad:/(iPad).*OS\s([\d_]+)/,iphone:/(iPhone\sOS)\s([\d_]+)/,Blackberry:/(BlackBerry|BB10|Playbook).*Version\/([\d.]+)/,FirefoxOS:/(Mozilla).*Mobile[^\/]*\/([\d\.]*)/,webOS:/(webOS|hpwOS)[\s\/]([\d.]+)/},t.isMobile=function(){return this.environment(),r.isMobile},t.environment=function(){var t,n;return r||(n=navigator.userAgent,t=u(n),r={browser:i(n),isMobile:!!t,screen:o(),os:t}),r},i=function(t){var e;return e=t.match(n),e?e[0]:t},u=function(t){var n,r,i;for(r in e)if(i=t.match(e[r])){n={name:"iphone"===r||"ipad"===r||"ipod"===r?"ios":r,version:i[2].replace("_",".")};break}return n},o=function(){return{width:window.innerWidth,height:window.innerHeight}}}(t),function(t){var n,e,r,i,u,o,a,c,l,s,f,h,d;return n=1,i={},r={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",touch:"click",orientationchange:"resize"},u=/complete|loaded|interactive/,t.fn.on=function(n,e,r){return null==e||"function"===t.toType(e)?this.bind(n,e):this.delegate(e,n,r)},t.fn.off=function(n,e,r){return null==e||"function"===t.toType(e)?this.unbind(n,e):this.undelegate(e,n,r)},t.fn.ready=function(n){return u.test(document.readyState)?n.call(this,t):t.fn.addEvent(document,"DOMContentLoaded",function(){return n.call(this,t)})},t.fn.bind=function(t,n){return this.forEach(function(e){return h(e,t,n)})},t.fn.unbind=function(t,n){return this.each(function(){return d(this,t,n)})},t.fn.delegate=function(n,e,r){return this.each(function(i,u){return h(u,e,r,n,function(e){return function(r){var i,a;return a=t(r.target).closest(n,u).get(0),a?(i=t.extend(o(r),{currentTarget:a,liveFired:u}),e.apply(a,[i].concat([].slice.call(arguments,1)))):void 0}})})},t.fn.undelegate=function(t,n,e){return this.each(function(){return d(this,n,e,t)})},t.fn.trigger=function(n,e,r){return"string"===t.toType(n)&&(n=l(n,e)),null!=r&&(n.originalEvent=r),this.each(function(){return this.dispatchEvent(n)})},t.fn.addEvent=function(t,n,e){return t.addEventListener?t.addEventListener(n,e,!1):t.attachEvent?t.attachEvent("on"+n,e):t["on"+n]=e},t.fn.removeEvent=function(t,n,e){return t.removeEventListener?t.removeEventListener(n,e,!1):t.detachEvent?t.detachEvent("on"+n,e):t["on"+n]=null},l=function(t,n){var e;return e=document.createEvent("Events"),e.initEvent(t,!0,!0,null,null,null,null,null,null,null,null,null,null,null,null),n&&(e.touch=n),e},h=function(n,e,r,u,o){var l,s,h,d;return e=c(e),h=f(n),s=i[h]||(i[h]=[]),l=o&&o(r,e),d={event:e,callback:r,selector:u,proxy:a(l,r,n),delegate:l,index:s.length},s.push(d),t.fn.addEvent(n,d.event,d.proxy)},d=function(n,e,r,u){var o;return e=c(e),o=f(n),s(o,e,r,u).forEach(function(e){return delete i[o][e.index],t.fn.removeEvent(n,e.event,e.proxy)})},f=function(t){return t._id||(t._id=n++)},c=function(n){var r;return r=("function"==typeof t.isMobile?t.isMobile():void 0)?n:e[n],r||n},a=function(t,n,e){var r;return n=t||n,r=function(t){var r;return r=n.apply(e,[t].concat(t.data)),r===!1&&t.preventDefault(),r}},s=function(t,n,e,r){return(i[t]||[]).filter(function(t){return!(!t||n&&t.event!==n||e&&t.callback!==e||r&&t.selector!==r)})},o=function(n){var e;return e=t.extend({originalEvent:n},n),t.each(r,function(t,r){return e[t]=function(){return this[r]=function(){return!0},n[t].apply(n,arguments)},e[r]=function(){return!1}}),e}}(t),function(t){return t.fn.text=function(t){return null!=t?this.each(function(){return this.textContent=t}):this.length>0?this[0].textContent:""},t.fn.html=function(n){var e;return null!=n?(e=t.toType(n),this.each(function(){return"string"===e?this.innerHTML=n:"array"===e?n.forEach(function(n){return function(e){return t(n).html(e)}}(this)):this.innerHTML+=t(n).html()})):this.length>0?this[0].innerHTML:""},t.fn.remove=function(){return this.each(function(){return null!=this.parentNode?this.parentNode.removeChild(this):void 0})},t.fn.empty=function(){return this.each(function(){return this.innerHTML=null})},t.fn.append=function(n){var e;return e=t.toType(n),this.each(function(){return"string"===e?this.insertAdjacentHTML("beforeend",n):"array"===e?n.forEach(function(n){return function(e){return t(n).append(e)}}(this)):this.appendChild(n)})},t.fn.prepend=function(n){var e;return e=t.toType(n),this.each(function(){return"string"===e?this.insertAdjacentHTML("afterbegin",n):"array"===e?n.each(function(t){return function(n,e){return t.insertBefore(e,t.firstChild)}}(this)):this.insertBefore(n,this.firstChild)})},t.fn.replaceWith=function(n){var e;return e=t.toType(n),this.each(function(){return this.parentNode?"string"===e?this.insertAdjacentHTML("beforeBegin",n):"array"===e?n.each(function(t){return function(n,e){return t.parentNode.insertBefore(e,t)}}(this)):this.parentNode.insertBefore(n,this):void 0}),this.remove()}}(t),function(n){var e,r,i,u;return e="parentNode",n.fn.find=function(e){var r;return r=1===this.length?t.query(this[0],e):this.map(function(){return t.query(this,e)}),n(r)},n.fn.parent=function(t){var n;return n=t?i(this):this.instance(e),r(n,t)},n.fn.children=function(t){var n;return n=this.map(function(){return Array.prototype.slice.call(this.children)}),r(n,t)},n.fn.siblings=function(t){var n;return n=this.map(function(t,n){return Array.prototype.slice.call(n.parentNode.children).filter(function(t){return t!==n})}),r(n,t)},n.fn.get=function(t){return this[t]||null},n.fn.first=function(){return n(this[0])},n.fn.last=function(){return n(this[this.length-1])},n.fn.closest=function(t,e){var r,i;for(i=this[0],r=n(t),r.length||(i=null);i&&r.indexOf(i)<0;)i=i!==e&&i!==document&&i.parentNode;return n(i)},n.fn.next=function(){return u.call(this,"nextSibling")},n.fn.prev=function(){return u.call(this,"previousSibling")},n.fn.instance=function(t){return this.map(function(){return this[t]})},n.fn.map=function(t){return n.map(this,function(n,e){return t.call(n,e,n)})},i=function(t){var e;for(e=[];t.length>0;)t=n.map(t,function(t){return t=t.parentNode,t!==document&&e.indexOf(t)<0?(e.push(t),t):void 0});return e},r=function(t,e){return null!=e?n(t).filter(e):n(t)},u=function(t){var e;for(e=this[0][t];e&&1!==e.nodeType;)e=e[t];return n(e)}}(t),t.Gestures=function(t){var e,r,i,u,o,a,c,l,s,f,h,d,p,v;return v=!1,f={},c=null,d=null,o=["input","select","textarea"],e=function(t){return f[t.name]=t.handler,i(t.events)},r=function(n,e,r){return t(n).trigger(e,r,d)},p=function(t){var e;return e=(t.srcElement||t.target).tagName.toLowerCase(),n.call(o,e)>=0?t.stopPropagation():(v=!0,d=t||event,c=l(t),s("start",t.target,c))},h=function(t){return v?(d=t||event,c=l(t),c.length>1&&d.preventDefault(),s("move",t.target,c)):void 0},a=function(t){return v?(d=t||event,s("end",t.target,c),v=!1):void 0},u=function(){return v=!1,s("cancel")},i=function(n){return n.forEach(function(n){return t.fn[n]=function(e){return t(document.body).delegate(this.selector,n,e)}}),this},s=function(t,n,e){var r,i,u;u=[];for(i in f)r=f[i],r[t]&&u.push(r[t].call(r,n,e));return u},l=function(t){var n,e,r,i,u;for(i=t.touches||[t],u=[],e=0,r=i.length;r>e;e++)n=i[e],u.push({x:n.pageX,y:n.pageY});return u},t(document).ready(function(){var n;return n=t(document.body),n.bind("touchstart",p),n.bind("touchmove",h),n.bind("touchend",a),n.bind("touchcancel",u)}),{add:e,trigger:r}}(t),t.Gestures.add({name:"basic",events:["touch","hold","doubleTap"],handler:function(t){var n,e,r,i,u,o,a,c,l,s,f,h;return e=15,n={TAP:200,DOUBLE_TAP:400,HOLD:400},c=null,h=!0,f=null,s=null,l=null,o=function(e,i){return 1===i.length?(s={time:new Date,x:i[0].x,y:i[0].y},f=e,c=setTimeout(function(){return t.trigger(e,"hold",i[0])},n.HOLD)):r()},u=function(t,n){var i;return null!==s&&(i=a(s,n[0]),i.x>e||i.y>e||n.length>1)?r():void 0},i=function(e,i){var u,o;return s?(u=a(s,i[0]),0!==u.x||0!==u.y?r():(clearTimeout(c),o=new Date,o-s.time<n.TAP?o-l<n.DOUBLE_TAP?(t.trigger(e,"doubleTap",i[0]),l=null):(l=o,t.trigger(e,"touch",i[0])):void 0)):void 0},r=function(){return s=null,h=!1,clearTimeout(c)},a=function(t,n){var e;return e={x:n.x-t.x,y:n.y-t.y}},{start:o,move:u,end:i,cancel:r}}(t.Gestures)}),t.Gestures.add({name:"drag",events:["drag","dragging"],handler:function(t){var n,e,r,i,u,o,a,c,l,s,f,h;return n=window.devicePixelRatio>=2?15:20,h=null,s=null,f=null,l=null,u=function(t,n){return n.length>=2?(h=t,s=n.length,f=o(n)):void 0},i=function(t,n){var e;return n.length===s?(e=a(n),l={touches:n,delta:e},c(!0)):void 0},e=r=function(){return f&&l?(c(!1),s=null,f=null,l=null):void 0},a=function(t){var n;return n=o(t),{x:n.x-f.x,y:n.y-f.y}},o=function(t){var n,e,r,i,u;for(e=0,r=0,i=0,u=t.length;u>i;i++)n=t[i],e+=parseInt(n.x),r+=parseInt(n.y);return{x:e/t.length,y:r/t.length}},c=function(e){return e?t.trigger(h,"dragging",l):Math.abs(l.delta.x)>n||Math.abs(l.delta.y)>n?t.trigger(h,"drag",l):void 0},{start:u,move:i,end:r}}(t.Gestures)}),t.Gestures.add({name:"pinch",events:["pinch","pinching","pinchIn","pinchOut"],handler:function(t){var n,e,r,i,u,o,a,c,l,s;return n=window.devicePixelRatio>=2?15:20,s=null,l=null,c=null,u=function(t,n){return 2===n.length?(s=t,l=a(n[0],n[1])):void 0},i=function(t,n){var e;return l&&2===n.length?(e=a(n[0],n[1]),c={touches:n,delta:e-l},o(!0)):void 0},e=r=function(){return l&&c?(o(!1),l=null,c=null):void 0},a=function(t,n){return Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y))},o=function(e){var r;return e?t.trigger(s,"pinching",c):Math.abs(c.delta)>n?(t.trigger(s,"pinch",c),r=c.delta>0?"pinchOut":"pinchIn",t.trigger(s,r,c)):void 0},{start:u,move:i,end:r}}(t.Gestures)}),t.Gestures.add({name:"rotation",events:["rotate","rotating","rotateLeft","rotateRight"],handler:function(t){var n,e,r,i,u,o,a,c,l,s,f,h,d;return n=5,e=20,d=null,l=0,h=null,c=null,o=function(t,n){return 2===n.length?(d=t,l=0,h=s(n[0],n[1])):void 0},u=function(t,n){var r;return h&&2===n.length?(r=s(n[0],n[1])-h,c&&Math.abs(c.delta-r)>e&&(r+=360*f(c.delta)),Math.abs(r)>360&&(l++,r-=360*f(c.delta)),c={touches:n,delta:r,rotationsCount:l},a(!0)):void 0},r=i=function(){return h&&c?(a(!1),d=null,l=0,h=null,c=null,h=null):void 0},f=function(t){return 0>t?-1:1},s=function(t,n){var e;return e=Math.atan2(t.y-n.y,t.x-n.x),180*(0>e?e+2*Math.PI:e)/Math.PI},a=function(e){var r;return e?t.trigger(d,"rotating",c):Math.abs(c.delta)>n?(t.trigger(d,"rotate",c),r=c.delta>0?"rotateRight":"rotateLeft",t.trigger(d,r,c)):void 0},{start:o,move:u,end:i}}(t.Gestures)}),t.Gestures.add({name:"swipe",events:["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","swiping","swipingHorizontal","swipingVertical"],handler:function(t){var n,e,r,i,u,o,a,c,l,s,f;return n=Math.round(20/window.devicePixelRatio),f=null,l=null,s=null,c=null,u=function(t,n){return 1===n.length?(f=t,l=n[0],c=null):void 0},i=function(t,n){var e,r;return 1===n.length?(e={x:n[0].x-l.x,y:n[0].y-l.y},r=null===c,c={x:n[0].x,y:n[0].y,delta:e},o(!0,r)):c=null},e=r=function(t,n){var e;return null==c&&n.length>=1&&(e={x:n[0].x-l.x,y:n[0].y-l.y},c={x:n[0].x,y:n[0].y,delta:e}),c?(o(!1),c=null):void 0},o=function(e,r){var i,u,o,l,h;if(null==r&&(r=!1),e)return r&&(s=a(c.delta.x,c.delta.y)),null!==s&&t.trigger(f,"swiping"+s,c),t.trigger(f,"swiping",c);if(u=[],Math.abs(c.delta.y)>n?u.push(c.delta.y<0?"Up":"Down"):Math.abs(c.delta.x)>n&&u.push(c.delta.x<0?"Left":"Right"),u.length){for(t.trigger(f,"swipe",c),h=[],o=0,l=u.length;l>o;o++)i=u[o],h.push(t.trigger(f,"swipe"+i,c));return h}},a=function(t,n){var e;return e=null,Math.round(Math.abs(t/n))>=2?e="Horizontal":Math.round(Math.abs(n/t))>=2&&(e="Vertical"),e},{start:u,move:i,end:r}}(t.Gestures)})}).call(this),function(){!function(n){var t,e,r,i,u;return e=function(){return this._callbacks=[],this},i=function(n){var t,r,i,u,o,s,l;for(t=n.length,r=0,s=new e,i=[],l=[],o=function(n){return function(e,u){return r+=1,i[n]=e,l[n]=u,r===t?s.done(i,l):void 0}},u=0;t>u;)n[u]().then(o(u)),u++;return s},r=function(n,t,i,u){var o;return o=new e,0===n.length||null!=u&&null!=t?o.done(t,i):n[0](t,i).then(function(t,e){return n.splice(0,1),r(n,t,e,u).then(function(n,t){return o.done(n,t)})}),o},u=function(n,t,e){return r(n,t,e,!0)},e.prototype.then=function(n,t){var e;return e=function(){return n.apply(t,arguments)},this._isdone?e(this.error,this.result):this._callbacks.push(e)},e.prototype.done=function(n,t){var e,r;for(this._isdone=!0,this.error=n,this.result=t,e=0,r=this._callbacks.length;r>e;)this._callbacks[e](n,t),e++;return this._callbacks=[]},t={Promise:e,join:i,chain:r,shield:u},"function"==typeof define&&define.amd?define(function(){return t}):n.Hope=t}(this)}.call(this),eval(function(p,a,c,k,e,r){if(e=function(c){return(a>c?"":e(parseInt(c/a)))+((c%=a)>35?String.fromCharCode(c+29):c.toString(36))},!"".replace(/^/,String)){for(;c--;)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}],e=function(){return"\\w+"},c=1}for(;c--;)k[c]&&(p=p.replace(new RegExp("\\b"+e(c)+"\\b","g"),k[c]));return p}(";5 V=(8(){\"1D 1B\";5 j={l:'l',E:'1y',m:'m',p:'1x',q:'1v',v:'v'},19={\"1u\":1t,\"1q\":1n,\"1m\":11,\"1k\":18,\"1j\":11,\"1i\":18},S=8(a,b){5 d=1g,O=d.1f('a'),b=b||d.17.G,H=b.r(/\\/\\/(.*?)(?::(.*?))?@/)||[];O.G=b;w(5 i R j){a[i]=O[j[i]]||''}a.l=a.l.o(/:$/,'');a.q=a.q.o(/^\\?/,'');a.v=a.v.o(/^#/,'');a.F=H[1]||'';a.x=H[2]||'';a.m=(19[a.l]==a.m||a.m==0)?'':a.m;9(!a.l&&!/^([a-z]+:)?\\/\\//.1d(b)){5 c=T V(d.17.G.r(/(.*\\/)/)[0]),A=c.p.X('/'),B=a.p.X('/');A.W();w(5 i=0,C=['l','F','x','E','m'],s=C.Z;i<s;i++){a[C[i]]=c[C[i]]}10(B[0]=='..'){A.W();B.1c()}a.p=(b.1p(0,1)!='/'?A.13('/'):'')+'/'+B.13('/')}D{a.p=a.p.o(/^\\/?/,'/')}14(a)},15=8(s){s=s.o(/\\+/g,' ');s=s.o(/%([1b][0-t-f])%([P][0-t-f])%([P][0-t-f])/N,8(a,b,c,d){5 e=u(b,16)-1e,Q=u(c,16)-M;9(e==0&&Q<1h){k a}5 f=u(d,16)-M,n=(e<<12)+(Q<<6)+f;9(n>1l){k a}k K.J(n)});s=s.o(/%([1o][0-t-f])%([P][0-t-f])/N,8(a,b,c){5 d=u(b,16)-1a;9(d<2){k a}5 e=u(c,16)-M;k K.J((d<<6)+e)});s=s.o(/%([0-7][0-t-f])/N,8(a,b){k K.J(u(b,16))});k s},14=8(g){5 h=g.q;g.q=T(8(c){5 d=/([^=&]+)(=([^&]*))?/g,r;10((r=d.1r(c))){5 f=1s(r[1].o(/\\+/g,' ')),I=r[3]?15(r[3]):'';9(4[f]!=1w){9(!(4[f]y Y)){4[f]=[4[f]]}4[f].1z(I)}D{4[f]=I}}4.1A=8(){w(f R 4){9(!(4[f]y U)){1C 4[f]}}};4.L=8(){5 s='',e=1E;w(5 i R 4){9(4[i]y U){1F}9(4[i]y Y){5 a=4[i].Z;9(a){w(5 b=0;b<a;b++){s+=s?'&':'';s+=e(i)+'='+e(4[i][b])}}D{s+=(s?'&':'')+e(i)+'='}}D{s+=s?'&':'';s+=e(i)+'='+e(4[i])}}k s}})(h)};k 8(a){4.L=8(){k((4.l&&(4.l+'://'))+(4.F&&(4.F+(4.x&&(':'+4.x))+'@'))+(4.E&&4.E)+(4.m&&(':'+4.m))+(4.p&&4.p)+(4.q.L()&&('?'+4.q))+(4.v&&('#'+4.v)))};S(4,a)}}());",62,104,"||||this|var|||function|if|||||||||||return|protocol|port||replace|path|query|match||9a|parseInt|hash|for|pass|instanceof||basePath|selfPath|props|else|host|user|href|auth|value|fromCharCode|String|toString|0x80|gi|link|89ab|n2|in|parse|new|Function|Url|pop|split|Array|length|while|80||join|parseQs|decode||location|443|defaultPorts|0xC0|ef|shift|test|0xE0|createElement|document|32|wss|ws|https|0xFFFF|http|70|cd|substring|gopher|exec|decodeURIComponent|21|ftp|search|null|pathname|hostname|push|clear|strict|delete|use|encodeURIComponent|continue".split("|"),0,{})),function(){var t,e,n,r,i,s=[].slice,o=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},u={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l=function(t,e){return function(){return t.apply(e,arguments)}};t=this.Atoms={version:"0.08.18",Core:{},Class:{},Atom:{},Molecule:{},Organism:{},Entity:{},$:function(){var t;return t=1<=arguments.length?s.call(arguments,0):[],"undefined"!=typeof $$&&null!==$$?$$.apply(null,t):$.apply(null,t)}},t.Core.Children={"default":{children:[]},chemistry:function(){var t,e,n,r,i,s,o;for(s=this.attributes.children||(null!=(i=this.constructor["default"])?i.children:void 0)||[],o=[],n=0,r=s.length;r>n;n++)e=s[n],o.push(function(){var n;n=[];for(t in e)n.push(this.appendChild(t,e[t]));return n}.call(this));return o},appendChild:function(e,n){var r,i;return null==n&&(n={}),i=e.toClassObject(t),i?this.__available(i)?(null!=i["default"]&&(n=t.Core.Helper.mix(n,i["default"])),n.parent=n.parent||this,r=new i(n),this.children.push(r),n.id&&(this[n.id]=r),r):console.error("Instance "+e+" not available in "+this.constructor.type+"."+this.constructor.base+" #"+this.constructor.name+"."):console.error("Instance "+e+" doesn't exists.")},destroyChildren:function(){var t,e,n,r;for(r=this.children||[],e=0,n=r.length;n>e;e++)t=r[e],"function"==typeof t.destroy&&t.destroy();return this.children=[]},__available:function(t){var e;return e=""+t.type+"."+(t.base||t.name),!this.constructor.available||o.call(this.constructor.available,e)>=0}},t.Core.Constants={ANIMATION:{END:"webkitAnimationEnd MSAnimationEnd animationend"},APPEND:"append",EXCLUDED_IF_KEYS:["class","entity","events","if","parent","children"],ENTITY:{EVENT:{CREATE:"create",UPDATE:"update",DESTROY:"destroy"}}},t.Core.Event={bindings:null,bind:function(t,e){var n,r,i,s,o;for(t=t.split(" "),this.events=this.events||{},o=[],i=0,s=t.length;s>i;i++)n=t[i],n=this._customEventName(n),(r=this.events)[n]||(r[n]=[]),o.push(this.events[n].push(e));return o},unbind:function(t,e){var n;return t=this._customEventName(t),this.hasOwnProperty("events")&&(null!=(n=this.events)?n[t]:void 0)?this.events[t].splice(this.events[t].indexOf(e),1):void 0},trigger:function(){var t,e,n,r,i,o,u;if(e=arguments[0],t=2<=arguments.length?s.call(arguments,1):[],e=this._customEventName(e),n=this.hasOwnProperty("events")&&null!=(o=this.events)?o[e]:void 0){for(t.push(this),u=[],r=0,i=n.length;i>r&&(e=n[r],e.apply(this,t)!==!1);r++)u.push(void 0);return u}},bubble:function(){var t,e,n,r;return e=arguments[0],n=2<=arguments.length?s.call(arguments,1):[],t=!0,1===n.length&&o.call(this.attributes.events||[],e)<0&&(t=!1),t&&null!=(null!=(r=this.parent)?r.uid:void 0)?(n.push(this),this._state(this.parent,e,n,"bubble")):void 0},tunnel:function(){var t,e,n,r,i,o,u,a;if(n=arguments[0],t=2<=arguments.length?s.call(arguments,1):[],(null!=(o=this.children)?o.length:void 0)>0){for(t.push(this),u=this.children,a=[],r=0,i=u.length;i>r;r++)e=u[r],null!=e.uid&&a.push(this._state(e,n,t,"tunnel"));return a}},_customEventName:function(t){var e;return e=this._base(this.constructor),(""+this.constructor.type+":"+e+":"+t).toLowerCase()},_base:function(t){return t.base||t.name},_state:function(t,e,n,r){var i,s,o,u,a,l,c;return null==r&&(r="bubble"),"bubble"===r?(u=null!=(a=this.attributes.events)?a.indexOf(e):void 0,u>-1&&(s=null!=(l=this.attributes.callbacks)?l[u]:void 0,s&&(n[0].eventCustomCallback=s)),s||(s=n[0].eventCustomCallback),s||(o=1===n.length?this.constructor:n[1].constructor,i=this._base(o),o["extends"]&&(i=o.name),s="on"+i.toClassName()+e.toClassName())):"tunnel"===r&&(s=e),n[0].eventType=r,(null!=(c=t[s])?c.apply(t,n):void 0)!==!1?t[r].apply(t,[e].concat(n)):void 0}},t.Core.Helper=function(){var t,e;return e=function(t,e){var n,r;if(n=this._clone(e),null!=n)for(r in t)n[r]="object"==typeof t[r]?this.mix(t[r],n[r]):t[r];else n=t;return n},t=function(t){return"[object Array]"==={}.toString.call(t)},{_clone:function(t){var e,n,r;if(null==t||"object"!=typeof t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return e="",null!=t.global&&(e+="g"),null!=t.ignoreCase&&(e+="i"),null!=t.multiline&&(e+="m"),null!=t.sticky&&(e+="y"),new RegExp(t.source,e);r=new t.constructor;for(n in t)r[n]=this._clone(t[n]);return r},mix:e,isArray:t}}(),String.prototype.toClassName=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.toClassObject=function(t){var e,n,r,i;for(n=this.split("."),null==t&&null==window[n[0]]&&(t=window.Atoms),null==t&&(t=window[n[0]]||window.Atoms,n.shift()),r=0,i=n.length;i>r;r++)e=n[r],null!=t&&(t=t[e]);return t},n=["included","extended"],t.Core.Module=function(){function t(){this.uid=r()}return t.extend=function(t){var e,r,i;if(!t)throw new Error("extend(obj) requires obj");for(e in t)r=t[e],o.call(n,e)<0&&(this[e]=r);return null!=(i=t.extended)&&i.apply(this),this},t.include=function(t){var e,r,i;if(!t)throw new Error("include(obj) requires obj");for(r in t)i=t[r],o.call(n,r)<0&&(this.prototype[r]=i);return e=t.included,e&&e.apply(this),this},t.create=function(t,e){var n;return n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e}(this),t&&n.include(t),e&&n.extend(e),n},t}(),r=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e,n;return e=16*Math.random()|0,n="x"===t?e:3&e|8,n.toString(16)}).toUpperCase()},t.Core.Output={append:function(){return this.output("append")},prepend:function(){return this.output("prepend")},html:function(){return this.output("html")},output:function(){if(null==this.constructor.template)throw"No template defined.";if(null==this.container)throw"No container assigned.";return this._render(),this.constructor.method=this.attributes.method||t.Core.Constants.APPEND,("string"==typeof this.container||null==this.container.length)&&(this.container=t.$(this.container)),this.container.first()[this.constructor.method](this.el)},refresh:function(t){var e,n,r;null==t&&(t={});for(n in t)r=t[n],this.attributes[n]=r;return e=this.el,this._render(),"function"==typeof this.bindEvents&&this.bindEvents(),e.replaceWith(this.el)},destroy:function(){return this.el.remove()},_render:function(){var e,n,r,s;return this._createIfBindings(),this.el=t.$(i(this.constructor.template)(this.attributes)),e=this.constructor.base.toLowerCase()||new String,n=this.constructor.name.toLowerCase(),r=("data-"+this.constructor.type+"-"+e).toLowerCase(),s=n!==e?n:"",this.el.attr(r,s),this.el},_createIfBindings:function(){var e,n;this.attributes["if"]={},n=[];for(e in this.attributes)o.call(t.Core.Constants.EXCLUDED_IF_KEYS,e)<0&&n.push(this.attributes[e]?this.attributes["if"][e]=!0:void 0);return n}},i=function(t){var e,n,r,i;return n=function(t,e){var n,r,i;for(e=1,t=t.replace(/\.\.\//g,function(){return e++,""}),r=["data[data.length - ",e,"]"],i="."===t?[]:t.split("."),n=0;n<i.length;)r.push("."+i[n]),n++;return r.join("")},i=function(t){return t.replace(/\{\{(!|&|\{)?\s*(.*?)\s*}}+/g,function(t,e,i){var s;return"!"===e?"":(s=r++,['"; var o',s," = ",n(i),", s",s," = (((typeof(o",s,') == "function" ? o',s,".call(data[data.length - 1]) : o",s,') || "") + ""); s += ',e?"s"+s:'(/[&"><]/.test(s'+s+") ? s"+s+'.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/>/g,"&gt;").replace(/</g,"&lt;") : s'+s+")",' + "'].join(""))})},e=function(t){return i(t.replace(/\{\{(\^|#)(.*?)}}(.*?)\{\{\/\2}}/g,function(t,i,s,o){var u;return u=r++,['"; var o',u," = ",n(s),"; ",("^"===i?["if ((o",u," instanceof Array) ? !o",u,".length : !o",u,') { s += "',e(o),'"; } ']:["if (typeof(o",u,') == "boolean" && o',u,') { s += "',e(o),'"; } else if (o',u,") { for (var i",u," = 0; i",u," < o",u,".length; i",u,"++) { data.push(o",u,"[i",u,']); s += "',e(o),'"; data.pop(); }}']).join(""),'; s += "'].join("")}))},r=0,new Function("data",'data = [data], s = "'+e(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"))+'"; return s;')},t.Core.Scaffold={scaffold:function(){var t,e,n;return this.parent={},null!=(null!=(t=this.attributes)?t.parent:void 0)&&(this.parent=this.attributes.parent,delete this.attributes.parent),this.container=this.attributes.container||this.parent.el||document.body,null!=(null!=(e=this.attributes)?e.container:void 0)&&delete this.attributes.container,null!=(null!=(n=this.attributes)?n.entity:void 0)?(this.entity=this.attributes.entity,delete this.attributes.entity):void 0}},t.Url=function(){var e,n,r,i,o,u,a,l,c;return c={attributes:/:([\w\d]+)/g,splat:/\*([\w\d]+)/g,escape:/[-[\]{}()+?.,\\^$|#\s]/g,hash:/^#*/},a={path:null,forward:!0,absolute:!1,routes:{}},l=function(){var t,e,i;return t=1<=arguments.length?s.call(arguments,0):[],t.length>0?(a.forward=!0,e="/"+t.join("/"),e!==a.path?(a.absolute||(e="#"+e),i=window.history.state||null,window.history.pushState(i,document.title,e.toLowerCase()),u()):void 0):a.absolute?r():n()},e=function(){var t;return a.forward=!1,t=null!=window.history.state.steps?window.history.state.steps:1,window.history.go(-t)},i=function(t,e){var n,r;for(n=["url"],c.attributes.lastIndex=0;null!==(r=c.attributes.exec(t));)n.push(r[1]);for(c.splat.lastIndex=0;null!==(r=c.splat.exec(t));)n.push(r[1]);return t=t.replace(c.escape,"\\$&").replace(c.attributes,"([^/]*)").replace(c.splat,"(.*?)"),a.routes[t]={attributes:n,callback:e,regexp:new RegExp("^"+t+"$")}},u=function(t){var e;return t&&t.preventDefault(),e=a.absolute?r():n(),e!==a.path?(a.path=e,o(e)):void 0},r=function(){var t;return t=window.location.pathname,"/"!==t.substr(0,1)&&(t="/#{path}"),t},n=function(){return window.location.hash.replace(c.hash,"")},o=function(t){var e,n,r,i,s,o,u,l,c,h,d;d=[];for(i in a.routes){if(o=a.routes[i],n=o.regexp.exec(t)){for(s={},c=o.attributes,r=u=0,l=c.length;l>u;r=++u)e=c[r],s[e]=n[r];
null!=(h=o.callback)&&h.call(this,s);break}d.push(void 0)}return d},function(){return t.$(window).on("popstate",u)}(),{path:l,back:e,listen:i,options:a}}(t),e={touch:"click",doubleTap:"dblClick"},t.Class.Atom=function(n){function r(e){var n,i,s,o;this.attributes=e,this.bindEntityDestroy=l(this.bindEntityDestroy,this),this.bindEntityUpdate=l(this.bindEntityUpdate,this),r.__super__.constructor.apply(this,arguments),this.attributes=t.Core.Helper.mix(this.attributes,this.constructor["default"]),this.scaffold(),this.entity&&(e=("function"==typeof(o=this.entity).parse?o.parse():void 0)||this.entity.attributes(),this.attributes=t.Core.Helper.mix(this.attributes,e),i=null!=t.Entity[this.entity.className]?t.Entity:__.Entity,s=this.entity.className.toClassObject(i),s&&(n=t.Core.Constants.ENTITY.EVENT,this.attributes.bind.update&&s.bind(n.UPDATE,this.bindEntityUpdate),this.attributes.bind.destroy&&s.bind(n.DESTROY,this.bindEntityDestroy))),this.output(),this.bindEvents()}return a(r,n),r.include(t.Core.Scaffold),r.include(t.Core.Event),r.include(t.Core.Output),r.type="Atom",r["default"]={},r.prototype.bindEntityUpdate=function(t){var e,n,r;if(t.uid===this.entity.uid){n=("function"==typeof(r=this.entity).parse?r.parse():void 0)||this.entity.attributes();for(e in n)this.attributes[e]=n[e];return this.refresh()}},r.prototype.bindEntityDestroy=function(t){return t.uid===this.entity.uid?this.destroy():void 0},r.prototype.bindEvents=function(){var t,n,r,i,s,o;if(this.attributes.events){for(s=this.attributes.events,o=[],r=0,i=s.length;i>r;r++)t=s[r],("undefined"==typeof $$||null===$$)&&(n=e[t]),o.push(this.el.on(n||t,function(t){return function(e){return function(n){return t.el[0].disabled!==!0?t.bubble(e,n):void 0}}}(this)(t)));return o}},r}(t.Core.Module),t.Class.Entity=function(e){function n(t){n.__super__.constructor.apply(this,arguments),this.constructor.constructor.type="Entity",this.constructor.constructor.base=this.constructor.name,this.className=this.constructor.name,t&&this.load(t)}return a(n,e),n.extend(t.Core.Event),n.records={},n.attributes=[],n.fields=function(){var t;return t=1<=arguments.length?s.call(arguments,0):[],this.records={},this.attributes=t||[],this.unbind(),this},n.create=function(t){var e;return e=new this(t),e.save()},n.exists=function(t){return this.find(t)},n.find=function(t){var e;return e=this.records[t],(null!=e?e.clone():void 0)||null},n.findBy=function(t,e){var n,r,i;i=this.records;for(r in i)if(n=i[r],n[t]===e)return n.clone();return null},n.select=function(t){var e,n;return this.cloneArray(function(){var r,i;r=this.records,i=[];for(n in r)e=r[n],t(e)&&i.push(e);return i}.call(this))},n.each=function(t){var e,n,r,i;r=this.records,i=[];for(e in r)n=r[e],i.push(t(n.clone()));return i},n.all=function(){return this.cloneArray(this.recordsValues())},n.count=function(){return this.recordsValues().length},n.cloneArray=function(t){var e,n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(e.clone());return i},n.recordsValues=function(){var t,e,n,r;e=[],r=this.records;for(t in r)n=r[t],e.push(n);return e},n.destroyAll=function(){var t,e,n;n=this.records;for(e in n)t=n[e],t.destroy();return this.records={}},n.prototype.isNew=function(){return!this.exists()},n.prototype.exists=function(){return this.uid&&this.uid in this.constructor.records},n.prototype.load=function(t){var e,n;for(e in t)n=t[e],"function"==typeof this[e]?this[e](n):this[e]=n;return this},n.prototype.attributes=function(){var t,e,n,r,i;for(e={},i=this.constructor.attributes,n=0,r=i.length;r>n;n++)t=i[n],t in this&&(e[t]="function"==typeof this[t]?this[t]():this[t]);return e},n.prototype.equal=function(t){return!((null!=t?t.constructor:void 0)!==this.constructor||t.uid!==this.uid)},n.prototype.save=function(){var t,e;return null!=this.validate&&(t=this.validate()),t?this.trigger("error",t):(e=this.isNew()?this.create():this.update(),this.trigger("save"),e)},n.prototype.updateAttributes=function(t){return this.load(t),this.save()},n.prototype.create=function(){var t;return t=new this.constructor(this.attributes()),t.uid=this.uid,this.constructor.records[this.uid]=t,this.trigger("create"),this.trigger("change"),t.clone()},n.prototype.update=function(){var t;return t=this.constructor.records,t[this.uid].load(this.attributes()),this.trigger("update"),this.trigger("change"),t[this.uid].clone()},n.prototype.destroy=function(){return delete this.constructor.records[this.uid],this.trigger("destroy"),this.trigger("change"),this.unbind()},n.prototype.clone=function(){return Object.create(this)},n.prototype.unbind=function(){return this.trigger("unbind")},n.prototype.trigger=function(){var t,e;return t=1<=arguments.length?s.call(arguments,0):[],t.splice(1,0,this),(e=this.constructor).trigger.apply(e,t)},n}(t.Core.Module),"function"!=typeof Object.create&&(Object.create=function(t){var e;return e=function(){},e.prototype=t,new e}),t.Class.Molecule=function(e){function n(t){var e;this.attributes=t,this._addAtomEntity=l(this._addAtomEntity,this),n.__super__.constructor.apply(this,arguments),this.children=[],this._records=[],this.scaffold(),this.output(),this.chemistry(),null!=(null!=(e=this.attributes.bind)?e.entity:void 0)&&null!=this.attributes.bind.atom&&this.attributes.bind.create&&this._bindEntity()}return a(n,e),n.include(t.Core.Scaffold),n.include(t.Core.Children),n.include(t.Core.Event),n.include(t.Core.Output),n.type="Molecule",n.prototype.entity=function(t,e){var n,r,i,s,o;if(null==e&&(e=!1),e||this.destroyChildren(),null!=(null!=(s=this.attributes.bind)?s.entity:void 0)&&null!=this.attributes.bind.atom){for(o=[],r=0,i=t.length;i>r;r++)n=t[r],o.push(this._addAtomEntity(n,this.attributes.bind));return o}},n.prototype.destroyChildren=function(){var t,e,n,r;for(r=this.children||[],e=0,n=r.length;n>e;e++)t=r[e],"function"==typeof t.destroy&&t.destroy();return this.children=[],this._records=[]},n.prototype._addAtomEntity=function(e,n,r){var i,s,o,u,a,l,c;for(null==r&&(r=!0),s={entity:e,bind:{update:n.update,destroy:n.destroy}},l=["events","callbacks"],u=0,a=l.length;a>u;u++)o=l[u],null!=this.attributes.bind[o]&&(s[o]=this.attributes.bind[o]);return s=t.Core.Helper.mix(s,null!=(c=this["default"].children)?c[this.attributes.entityAtom]:void 0),i=this.appendChild(""+this.attributes.bind.atom,s),r&&this._records.push(i),i},n.prototype._bindEntity=function(){var e;return e=this.attributes.bind.entity.toClassObject(),null!=e?(new e,e.bind(t.Core.Constants.ENTITY.EVENT.CREATE,function(t){return function(e){return t._addAtomEntity(e,t.attributes.bind)}}(this)),e.bind(t.Core.Constants.ENTITY.EVENT.DESTROY,function(t){return function(e){var n,r,i,s,o,u;for(o=t._records,u=[],n=i=0,s=o.length;s>i;n=++i)if(r=o[n],r.entity.uid===e.uid){t._records.splice(n,1);break}return u}}(this))):void 0},n}(t.Core.Module),t.Class.Organism=function(e){function n(e,i){this.attributes=e,n.__super__.constructor.apply(this,arguments),this.children=[],i&&(r=this.constructor.requestJSON(i)),this.attributes=t.Core.Helper.mix(this.attributes,r),r=void 0}var r;return a(n,e),n.include(t.Core.Scaffold),n.include(t.Core.Children),n.include(t.Core.Event),n.include(t.Core.Output),n.type="Organism",r=void 0,n.scaffold=function(t){return r=this.requestJSON(t)},n.requestJSON=function(t){var e,n;return e="undefined"!=typeof $$&&null!==$$?$$:$,n=e.ajax({url:t,async:!1,dataType:"text",error:function(){throw"Error loading scaffold in "+t}}),JSON.parse(n.responseText)},n.prototype.render=function(){return this.scaffold(),this.output(),this.chemistry()},n}(t.Core.Module)}.call(this),function(){"use strict";var __Media,__path,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},__bind=function(fn,me){return function(){return fn.apply(me,arguments)}},__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1},__slice=[].slice;window.__=Atoms.App={version:"0.08.12",Article:{},Aside:{},Dialog:{},Entity:{},Extension:{},Url:null},Atoms.$(function(){return navigator.standalone?Atoms.$(document.body).addClass("standalone"):void 0}),Atoms.resource=function(extension,type,url){var file,promise;return promise=new Hope.Promise,file=document.createElement(type),file.setAttribute("data-extension",extension),file.onload=function(){return promise.done(null,!0)},file.onError=function(){return promise.done(!0,null)},"script"===type?(file.type="text/javascript",file.src=url,document.body.appendChild(file)):(file.rel="stylesheet",file.href=url,document.head.appendChild(file)),promise},Atoms.App.Url=function(a){var _activeAside,_activeSection,_addStepHistory,_article,_aside,_onChangeRoute,_options,_stepHistory;return _article=void 0,_aside=void 0,_options=Atoms.Url.options,_onChangeRoute=function(properties){var article;return article=a.App.Article[properties.article.toClassName()],article?(article.el||article.render(),setTimeout(function(){return _options.forward||_stepHistory(0),_activeSection(article,properties.section),_article!==article?(_options.forward?(_stepHistory(1),article.state("in"),_article&&_article.state("back-in").addClass(article.attributes.style)):(_article.state("out"),article.state("back-out").removeClass(_article.attributes.style)),_article=article):(null!=_article?_article.el.hasClass("aside"):void 0)?_article.aside(_aside):void 0},10)):void 0},_activeAside=function(id){return null==id&&(id=_aside),null!=_article?_article.aside(_aside=id):void 0},_activeSection=function(article,section){return _addStepHistory(),article.section(section)},_addStepHistory=function(){var state;return state=window.history.state||{steps:0},state.steps++,window.history.replaceState(state,document.title)},_stepHistory=function(value){return window.history.replaceState({steps:value},document.title)},Atoms.$(function(){var url;return url=Atoms.Url.path().split("/"),3===url.length&&_onChangeRoute({article:url[1],section:url[2]}),Atoms.Url.listen("/:article/:section",_onChangeRoute)}),{aside:_activeAside,current:function(){return _article}}}(Atoms),Atoms.Atom.Button=function(_super){function Button(){return Button.__super__.constructor.apply(this,arguments)}return __extends(Button,_super),Button.template='<button class="{{style}}{{^if.text}} icon{{/if.text}}" {{#if.disabled}}disabled{{/if.disabled}}>\n  {{#if.icon}}<span class="icon {{icon}}"></span>{{/if.icon}}\n  {{#if.text}}<abbr>{{text}}</abbr>{{/if.text}}\n  {{#if.count}}<small>{{count}}</small>{{/if.count}}\n</button>',Button.base="Button",Button.events=["touch"],Button["default"]={events:["touch"]},Button}(Atoms.Class.Atom),Atoms.Atom.Figure=function(_super){function Figure(){return Figure.__super__.constructor.apply(this,arguments)}return __extends(Figure,_super),Figure.template='<figure {{#if.style}}class="{{style}}"{{/if.style}}>\n  {{#if.url}}<span class="icon loading-d"></span>{{/if.url}}\n</figure>',Figure.base="Figure",Figure.events=["touch","tap","hold","swipe","rotate"],Figure.prototype._render=function(){var image;return Figure.__super__._render.apply(this,arguments),this.attributes.url?(image=new Image,image.addEventListener("load",function(_this){return function(){return _this.el.html(""),_this.el.attr("style","background-image: url("+_this.attributes.url+");")}}(this)),image.src=this.attributes.url):void 0},Figure}(Atoms.Class.Atom),Atoms.Atom.Heading=function(_super){function Heading(){return Heading.__super__.constructor.apply(this,arguments)}return __extends(Heading,_super),Heading.template='<{{size}} {{#if.style}}class="{{style}}"{{/if.style}}>\n  {{#if.image}}<img src="image" />{{/if.image}}\n  {{#if.value}}{{value}}{{/if.value}}\n</{{size}}>',Heading.base="Heading",Heading["default"]={size:"h1"},Heading}(Atoms.Class.Atom),Atoms.Atom.Icon=function(_super){function Icon(){return Icon.__super__.constructor.apply(this,arguments)}return __extends(Icon,_super),Icon.template='<span class="icon {{#if.icon}}{{icon}}{{/if.icon}} {{#if.style}}{{style}}{{/if.style}}"></span>',Icon.base="Icon",Icon}(Atoms.Class.Atom),Atoms.Atom.Iframe=function(_super){function Iframe(){return Iframe.__super__.constructor.apply(this,arguments)}return __extends(Iframe,_super),Iframe.template='<iframe {{#if.url}}src="{{url}}"{{/if.url}} {{#if.style}}class="{{style}}"{{/if.style}}></iframe>',Iframe.base="Iframe",Iframe}(Atoms.Class.Atom),Atoms.Atom.Image=function(_super){function Image(){return Image.__super__.constructor.apply(this,arguments)}return __extends(Image,_super),Image.template='<img src="{{url}}" {{#if.style}}class="{{style}}"{{/if.style}} {{#if.alt}}alt="{{alt}}"{{/if.alt}}/>',Image.base="Image",Image.events=["touch","tap","hold","swipe","rotate"],Image}(Atoms.Class.Atom),Atoms.Atom.Input=function(_super){function Input(){return Input.__super__.constructor.apply(this,arguments)}return __extends(Input,_super),Input.template='<input type="{{type}}" name="{{name}}" {{#if.placeholder}}placeholder="{{placeholder}}"{{/if.placeholder}} {{#if.style}}class="{{style}}"{{/if.style}} {{#if.value}}value="{{value}}"{{/if.value}} {{#required}}required{{/required}} {{#disabled}}disabled{{/disabled}} {{#if.maxlength}}maxlength={{maxlength}}{{/if.maxlength}} />',Input.base="Input",Input.events=["keypress","keyup","change"],Input["default"]={type:"text"},Input.prototype.value=function(value){return null!=value?this.el.val(value):this.el.val()},Input.prototype.error=function(value,focus){var method;return null==focus&&(focus=!0),method="removeClass",value&&(method="addClass",focus&&this.el[0].focus()),this.el[method]("error")},Input}(Atoms.Class.Atom),Atoms.Atom.AutoComplete=function(_super){function AutoComplete(){this._hide=__bind(this._hide,this),this._bindTouch=__bind(this._bindTouch,this),this._bindKeyup=__bind(this._bindKeyup,this),AutoComplete.__super__.constructor.apply(this,arguments),this._managePseudoElements()}return __extends(AutoComplete,_super),AutoComplete["extends"]=!0,AutoComplete.template='<fieldset>\n  <input type="text" name="{{name}}" {{#if.placeholder}}placeholder="{{placeholder}}"{{/if.placeholder}} {{#if.style}}class="{{style}}"{{/if.style}} {{#if.value}}value="{{value}}"{{/if.value}} {{#required}}required{{/required}} {{#disabled}}disabled{{/disabled}} {{#if.maxlength}}maxlength={{maxlength}}{{/if.maxlength}} />\n  <datalist for="{{name}}"></datalist>\n</fieldset>',AutoComplete.events=["change","select"],AutoComplete.prototype.refresh=function(){return AutoComplete.__super__.refresh.apply(this,arguments),this._managePseudoElements()},AutoComplete.prototype.value=function(value){var option,_i,_len,_ref;if(null!=value)return this.el.val(value);for(value=this.el.val(),_ref=this.attributes.options||[],_i=0,_len=_ref.length;_len>_i;_i++)if(option=_ref[_i],option.label===value){value=option.value;break}return value},AutoComplete.prototype._managePseudoElements=function(){var option,options,_i,_len,_ref,_ref1;if(this.datalist=this.el.find("datalist"),this.el=this.el.find("input"),this.el.bind("keyup",this._bindKeyup),this.datalist.bind("touchstart",this._bindTouch),(null!=(_ref=this.attributes.options)?_ref.length:void 0)>0){for(options=[],_ref1=this.attributes.options||[],_i=0,_len=_ref1.length;_len>_i;_i++)option=_ref1[_i],options.push(null!=option.value?option:{value:option,label:option});return this.attributes.options=options}},AutoComplete.prototype._bindKeyup=function(){var markup,option,value,_i,_len,_ref,_ref1;if(this.datalist.removeClass("active"),value=this.el.val().toLowerCase(),null!=this.timer&&clearTimeout(this.timer),value){for(markup="",_ref=this.attributes.options,_i=0,_len=_ref.length;_len>_i;_i++)option=_ref[_i],0===(null!=(_ref1=option.label.toLowerCase().match(value))?_ref1.index:void 0)&&(markup+='<li value="'+option.value+'">'+option.label+"</li>");""!==markup&&(this.datalist.html(markup),this.datalist.addClass("active"),this.timer=setTimeout(function(_this){return function(){return _this._hide()}}(this),3e3))}return this.bubble("change")},AutoComplete.prototype._bindTouch=function(event){return this.value(Atoms.$(event.target).html()),this._hide(),this.bubble("select")},AutoComplete.prototype._hide=function(){return this.datalist.hasClass("active")?this.datalist.removeClass("active"):void 0},AutoComplete}(Atoms.Atom.Input),Atoms.Atom.Label=function(_super){function Label(){return Label.__super__.constructor.apply(this,arguments)}return __extends(Label,_super),Label.template='<label {{#if.style}}class="{{style}}"{{/if.style}}>\n  {{#if.icon}}<span class="icon {{icon}}"></span>{{/if.icon}}\n  {{value}}\n  {{#if.count}}<strong>{{count}}</strong>{{/if.count}}\n</label>',Label.base="Label",Label}(Atoms.Class.Atom),Atoms.Atom.Li=function(_super){function Li(){Li.__super__.constructor.apply(this,arguments),this.bindDestroyable()}return __extends(Li,_super),Li.template='<li {{#if.style}}class="{{style}}"{{/if.style}}>\n  {{#if.image}}<figure><span class="icon loading-d"></span></figure>{{/if.image}}\n  <div>\n    {{#if.info}}<span>{{info}}</span>{{/if.info}}\n    {{#if.text}}<strong>{{text}}</strong>{{/if.text}}\n    {{#if.description}}<small>{{description}}</small>{{/if.description}}\n  </div>\n</li>',Li.base="Li",Li.events=["touch","doubleTap","hold","swipeLeft","swipeRight"],Li.prototype.refresh=function(){return Li.__super__.refresh.apply(this,arguments),this.bindDestroyable()},Li.prototype.bindDestroyable=function(){return __indexOf.call(this.attributes.events||[],"destroyable")>=0?(this.destroying=!1,this.el.bind("touchstart",function(_this){return function(){return _this.destroying=!1,_this.el.css("transition","none")}}(this)),this.el.bind("swiping",function(_this){return function(event){var pixels;return pixels=event.touch.delta.x,pixels>0?void 0:(pixels=Math.abs(pixels),128>pixels&&(_this.el.css("right",""+pixels+"px"),pixels>80&&!_this.destroying)?(_this.destroying=!0,_this.el.addClass("destroy"),setTimeout(function(){return _this.destroy()},450)):void 0)}}(this)),this.el.bind("touchend",function(_this){return function(){return _this.el.css("transition","right 450ms").css("right","0px")}}(this))):void 0},Li.prototype._render=function(){var figure,image;return Li.__super__._render.apply(this,arguments),this.attributes.image?(figure=this.el.children("figure"),image=new Image,image.addEventListener("load",function(_this){return function(){return figure.html(""),figure.attr("style","background-image: url("+_this.attributes.image+");")}}(this)),image.src=this.attributes.image):void 0},Li}(Atoms.Class.Atom),Atoms.Atom.Link=function(_super){function Link(){return Link.__super__.constructor.apply(this,arguments)}return __extends(Link,_super),Link.template='<a href="{{href}}" {{#if.target}}target="{{target}}"{{/if.target}} {{#if.style}}class="{{style}}"{{/if.style}} >\n  {{#if.icon}}<span class="icon {{icon}}"></span>{{/if.icon}}\n  {{#if.text}}{{text}}{{/if.text}}\n  {{#if.info}}<small>{{info}}</small>{{/if.info}}\n</a>',Link.base="Link",Link.events=["touch"],Link}(Atoms.Class.Atom),__Media=function(_super){function __Media(){var event,events,_i,_len,_ref;for(__Media.__super__.constructor.apply(this,arguments),events={load:"canplaythrough",downloading:"progress",timing:"timeupdate",end:"ended"},_ref=this.attributes.events||[],_i=0,_len=_ref.length;_len>_i;_i++)event=_ref[_i],event in events&&this._listen(events[event],event)}return __extends(__Media,_super),__Media.events=["load","error","downloading","play","timing","pause","stop","end"],__Media.prototype.src=function(url,type){return url?(this.el.attr("src",url),type&&this.el.attr("type",type),this.el[0].load()):this.el.attr("src")},__Media.prototype.play=function(){return this.el[0].play()},__Media.prototype.stop=function(){return this.time(0),this.pause()},__Media.prototype.pause=function(){return this.el[0].pause()},__Media.prototype.volume=function(percent){return null!=percent?this.el[0].volume=parseInt(percent)/100:this.el[0].volume},__Media.prototype.time=function(value){return null!=value?this.el[0].currentTime=value:this.el[0].currentTime},__Media.prototype.duration=function(){return this.el[0].duration},__Media.prototype._listen=function(event,bubble){return this.el.bind(event,function(_this){return function(event){return _this.bubble(bubble,event)}}(this))},__Media}(Atoms.Class.Atom),Atoms.Atom.Audio=function(_super){function Audio(){return Audio.__super__.constructor.apply(this,arguments)}return __extends(Audio,_super),Audio.template='<audio {{#if.autoplay}}autoplay="{{autoplay}}"{{/if.autoplay}} {{#if.controls}}controls="{{controls}}"{{/if.controls}} {{#if.preload}}preload="{{preload}}"{{/if.preload}} {{#if.loop}}loop="{{loop}}"{{/if.loop}} {{#if.src}}src="{{src}}"{{/if.src}}></audio>',Audio.base="Audio",Audio.prototype.src=function(url,type){return null==type&&(type="audio/mpeg"),Audio.__super__.src.call(this,url,type)},Audio}(__Media),Atoms.Atom.Video=function(_super){function Video(){return Video.__super__.constructor.apply(this,arguments)}return __extends(Video,_super),Video.template='<video {{#if.autoplay}}autoplay="{{autoplay}}"{{/if.autoplay}} {{#if.controls}}controls="{{controls}}"{{/if.controls}} {{#if.preload}}preload="{{preload}}"{{/if.preload}} {{#if.loop}}loop="{{loop}}"{{/if.loop}} {{#if.src}}src="{{src}}"{{/if.src}}></video>',Video.base="Video",Video.prototype.src=function(url,type){return null==type&&(type="audio/mpeg"),Video.__super__.src.call(this,url,type)},Video}(__Media),Atoms.Atom.Progress=function(_super){function Progress(){return Progress.__super__.constructor.apply(this,arguments)}return __extends(Progress,_super),Progress.template='<progress {{#if.style}}class="{{style}}"{{/if.style}} {{#if.max}}max="{{max}}"{{/if.max}} {{#if.value}}value="{{value}}"{{/if.value}}></progress>',Progress.base="Progress",Progress["default"]={max:100,value:0},Progress.prototype.value=function(value){return null!=value?this.el[0].value=value:this.el[0].value},Progress}(Atoms.Class.Atom),Atoms.Atom.Select=function(_super){function Select(){Select.__super__.constructor.apply(this,arguments),null!=this.attributes.value&&this.value(this.attributes.value)}return __extends(Select,_super),Select.template='<select name="{{name}}" {{#if.style}}class="{{style}}"{{/if.style}} {{#required}}required{{/required}} {{#disabled}}disabled{{/disabled}}>\n  {{#options}}\n    <option value="{{value}}">{{label}}</option>\n  {{/options}}\n</select>',Select.base="Select",Select.events=["change"],Select.prototype._render=function(){var option,options,_i,_len,_ref,_ref1;if((null!=(_ref=this.attributes.options)?_ref.length:void 0)>0){for(options=[],_ref1=this.attributes.options,_i=0,_len=_ref1.length;_len>_i;_i++)option=_ref1[_i],options.push(null!=option.value?option:{value:option,label:option});this.attributes.options=options}return Select.__super__._render.apply(this,arguments)},Select.prototype.value=function(value){return null!=value?this.el.val(value):this.el.val()},Select}(Atoms.Class.Atom),Atoms.Atom.Switch=function(_super){function Switch(){this.onTap=__bind(this.onTap,this);var event_name;Switch.__super__.constructor.apply(this,arguments),null!=this.attributes.value&&this.value(this.attributes.value),event_name=("undefined"!=typeof $$&&null!==$$&&"function"==typeof $$.isMobile?$$.isMobile():void 0)?"touchstart":"change",this.el.bind(event_name,this.onTap)}return __extends(Switch,_super),Switch.template='<input type="checkbox" name="{{name}}" {{#if.style}}class="{{style}}"{{/if.style}} {{#required}}required{{/required}} {{#disabled}}disabled{{/disabled}}/>',Switch.base="Switch",Switch.events=["changed"],Switch.prototype.value=function(value){return value===!0?this.el.attr("checked","true"):value===!1?this.el.removeAttr("checked"):null!=this.el.attr("checked")},Switch.prototype.onTap=function(event){return event.preventDefault(),event.stopPropagation(),this.value(!this.el.attr("checked")),this.bubble("changed",event)},Switch}(Atoms.Class.Atom),Atoms.Atom.Text=function(_super){function Text(){return Text.__super__.constructor.apply(this,arguments)}return __extends(Text,_super),Text.template='<p {{#if.style}}class="{{style}}"{{/if.style}}>{{value}}</p>',Text.base="Text",Text}(Atoms.Class.Atom),Atoms.Atom.Textarea=function(_super){function Textarea(){return Textarea.__super__.constructor.apply(this,arguments)}return __extends(Textarea,_super),Textarea.template='<textarea name="{{name}}" {{#if.placeholder}}placeholder="{{placeholder}}"{{/if.placeholder}} {{#if.style}}class="{{style}}"{{/if.style}} {{#required}}required{{/required}} {{#disabled}}disabled{{/disabled}}>{{#if.value}}{{value}}{{/if.value}}</textarea> {{#if.maxlength}}maxlength={{maxlength}}{{/if.maxlength}}',Textarea.base="Textarea",Textarea.events=["keypress","keyup","change"],Textarea.prototype.value=function(value){return null!=value?this.el.val(value):this.el.val()},Textarea}(Atoms.Class.Atom),Atoms.Molecule.Div=function(_super){function Div(){return Div.__super__.constructor.apply(this,arguments)}return __extends(Div,_super),Div.template='<div {{#if.style}}class="{{style}}"{{/if.style}}></div>',Div.base="Div",Div.events=["touch"],Div}(Atoms.Class.Molecule),Atoms.Molecule.Form=function(_super){function Form(){this.onButtonTouch=__bind(this.onButtonTouch,this),this.onSwitchChanged=__bind(this.onSwitchChanged,this),this.onSelectChange=__bind(this.onSelectChange,this),this.onInputKeyup=__bind(this.onInputKeyup,this),this.onInputKeypress=__bind(this.onInputKeypress,this),Form.__super__.constructor.apply(this,arguments),this.el.bind("submit",function(event){return event.preventDefault()})}return __extends(Form,_super),Form.template='<form {{#if.style}}class="{{style}}"{{/if.style}}></form>',Form.available=["Atom.Button","Atom.Input","Atom.Label","Atom.Progress","Atom.Select","Atom.Switch","Atom.Textarea"],Form.events=["change","submit","error"],Form.base="Form",Form["default"]={events:["submit"]},Form.prototype.value=function(){var child,properties,_i,_len,_ref;for(properties={},_ref=this.children,_i=0,_len=_ref.length;_len>_i;_i++)child=_ref[_i],child.attributes.name&&null!=child.value&&(properties[child.attributes.name.toLowerCase()]=child.value());return properties},Form.prototype.clean=function(){var child,_i,_len,_ref;for(_ref=this.children,_i=0,_len=_ref.length;_len>_i;_i++)child=_ref[_i],child.attributes.name&&null!=child.value&&child.value("Switch"===child.constructor.name?!1:"");return!0},Form.prototype.onInputKeypress=function(event,atom){return this._bubbleChange(event,atom)},Form.prototype.onInputKeyup=function(event,atom){return this._bubbleChange(event,atom)},Form.prototype.onInputChange=function(event,atom){return this._bubbleChange(event,atom)},Form.prototype.onSelectChange=function(event,atom){return this._bubbleChange(event,atom)},Form.prototype.onSwitchChanged=function(event,atom){return this._bubbleChange(event,atom)},Form.prototype.onButtonTouch=function(event){var child,method,required,_i,_len,_ref;for(event.preventDefault(),required=!0,_ref=this.children,_i=0,_len=_ref.length;_len>_i;_i++)child=_ref[_i],null!=child.value&&(child.attributes.required&&!child.value()?(child.el.addClass("error"),required=!1):child.el.removeClass("error"));return method=required?"submit":"error",this.bubble(method,event),!1},Form.prototype._bubbleChange=function(event,atom){return event.preventDefault(),atom.attributes.required&&!atom.value()?atom.el.addClass("error"):atom.el.removeClass("error"),this.bubble("change",event),!1},Form}(Atoms.Class.Molecule),Atoms.Molecule.List=function(_super){function List(){return this.onLiTouch=__bind(this.onLiTouch,this),this.select=__bind(this.select,this),this.findBy=__bind(this.findBy,this),List.__super__.constructor.apply(this,arguments)}return __extends(List,_super),List.template='<ul {{#if.style}}class="{{style}}"{{/if.style}}></ul>',List.available=["Atom.Li"],List.base="List",List.events=["select"],List.prototype.findBy=function(field,value){return this.select(function(entity){var _ref;return(null!=(_ref=entity[field])?_ref.toLowerCase().trim():void 0)===value.toLowerCase().trim()?entity:void 0})},List.prototype.select=function(callback){var record,records,_i,_len,_ref,_results;for(this.clean(),this.children=[],callback&&(records=function(){var _i,_len,_ref,_results;for(_ref=this._records,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)record=_ref[_i],callback(record.entity)&&_results.push(record);return _results}.call(this)),_ref=records||this._records,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)record=_ref[_i],_results.push(this._addAtomEntity(record.entity,this.attributes.bind,record=!1));return _results},List.prototype.all=function(){return this.select()},List.prototype.clean=function(){return this.el.html("")},List.prototype.onLiTouch=function(event,atom){return __indexOf.call(this.attributes.events||[],"select")>=0?this._bubbleSelect(event,atom):void 0},List.prototype._bubbleSelect=function(event,atom){return event.preventDefault(),this.bubble("select",atom),!1},List}(Atoms.Class.Molecule),Atoms.Molecule.Navigation=function(_super){function Navigation(){return Navigation.__super__.constructor.apply(this,arguments)}return __extends(Navigation,_super),Navigation.template='<nav {{#if.style}}class="{{style}}"{{/if.style}}></nav>',Navigation.available=["Atom.Button","Atom.Link"],Navigation.base="Navigation",Navigation.events=["select"],Navigation.prototype.onButtonTouch=function(event,atom){return this._bubbleSelect(event,atom)},Navigation.prototype.onLinkTouch=function(event,atom){return this._bubbleSelect(event,atom)},Navigation.prototype.onArticleChange=function(){var article,child,event,hierarchy,path,_i,_len,_ref;for(event=arguments[0],article=arguments[1],hierarchy=3<=arguments.length?__slice.call(arguments,2):[],path=Atoms.Url.path().substr(1),_ref=this.children,_i=0,_len=_ref.length;_len>_i;_i++)if(child=_ref[_i],child.attributes.path===path){this._active(child);break}return!1},Navigation.prototype.onSectionScroll=function(event){return this.el[event.addClass?"addClass":"removeClass"]("scroll"),!1},Navigation.prototype._active=function(atom){return atom.el.addClass("active").siblings().removeClass("active")},Navigation.prototype._bubbleSelect=function(event,atom){var _ref;return event.preventDefault(),!(null!=(_ref=atom.attributes.callbacks)?_ref.length:void 0)>0?(atom.el.addClass("active").siblings().removeClass("active"),this.bubble("select",event,atom),null!=atom.attributes.path&&__path(atom.attributes.path),!1):void 0},Navigation}(Atoms.Class.Molecule),__path=function(path){var parts;return null!=path&&(parts=path.split("/"),1===parts.length?"back"===parts[0]?Atoms.Url.back():Atoms.App.Url.aside(parts[0]):2===parts.length&&Atoms.Url.path()!=="/"+path&&Atoms.Url.path(path)),!1},Atoms.Molecule.Search=function(_super){function Search(){return this.onButtonTouch=__bind(this.onButtonTouch,this),this.onInputKeypress=__bind(this.onInputKeypress,this),this.onInputKeyup=__bind(this.onInputKeyup,this),Search.__super__.constructor.apply(this,arguments)}return __extends(Search,_super),Search.available=["Atom.Input","Atom.Button"],Search.events=["change","submit"],Search["extends"]=!0,Search["default"]={events:["submit"],children:[{"Atom.Input":{id:"input",type:"search",placeholder:"Type your search...",events:["keypress","keyup"],required:!0}},{"Atom.Button":{icon:"search"}}]},Search.prototype.value=function(value){return this.input.value(value)},Search.prototype.onInputKeyup=function(event){return 13!==event.keyCode&&this.bubble("change",event),!1},Search.prototype.onInputKeypress=function(event,atom){return 13===event.keyCode&&this._bubbleSubmit(event,atom),!1},Search.prototype.onButtonTouch=function(event,atom){return event.preventDefault(),this._bubbleSubmit(event,atom),!1},Search.prototype.onSectionScroll=function(event){return this.el[event.addClass?"addClass":"removeClass"]("scroll"),!1},Search.prototype._bubbleSubmit=function(event,atom){var value;return atom.el.blur(),value=this.input.value(),""!==value?this.bubble("submit",event):void 0
},Search}(Atoms.Molecule.Form),Atoms.Molecule.Tags=function(_super){function Tags(){return this.onLabelTap=__bind(this.onLabelTap,this),this.onLabelSingleTap=__bind(this.onLabelSingleTap,this),Tags.__super__.constructor.apply(this,arguments)}return __extends(Tags,_super),Tags["extends"]=!0,Tags.available=["Atom.Label"],Tags.events=["select"],Tags.prototype.onLabelSingleTap=function(event,atom){return this._bubbleSelect(event,atom)},Tags.prototype.onLabelTap=function(event,atom){return this._bubbleSelect(event,atom)},Tags.prototype._bubbleSelect=function(event,atom){return event.preventDefault(),this.bubble("select",atom),!1},Tags}(Atoms.Molecule.Div),Atoms.Organism.Article=function(_super){function Article(attributes,scaffold){null==attributes&&(attributes={}),this.onAnimationEnd=__bind(this.onAnimationEnd,this),this.aside=__bind(this.aside,this),Article.__super__.constructor.call(this,attributes,scaffold),Atoms.App.Article[this.constructor.name]=this}var ACTIVE_STATES,EVENT;return __extends(Article,_super),Article.template='<article {{#if.id}}id="{{id}}"{{/if.id}} {{#if.style}}class="{{style}}"{{/if.style}}></article>',Article.available=["Organism.Header","Organism.Section","Organism.Footer","Molecule.Navigation","Molecule.Form"],Article.base="Article",Article.events=["show","hide"],ACTIVE_STATES=["in","back-out","aside-show","aside-hide","aside-show-right","aside-hide-right"],EVENT={TUNNEL:{ARTICLE_CHANGE:"onArticleChange",SECTION_SCROLL:"onSectionScroll"}},Article.prototype.render=function(){var animation_end,_i,_len,_ref,_results;for(Article.__super__.render.apply(this,arguments),_ref=Atoms.Core.Constants.ANIMATION.END.split(" "),_results=[],_i=0,_len=_ref.length;_len>_i;_i++)animation_end=_ref[_i],_results.push(this.el.bind(animation_end,this.onAnimationEnd));return _results},Article.prototype.state=function(name){return this.el.addClass("active").attr("data-state",name)},Article.prototype.section=function(id){var child,_i,_len,_ref;for(this.tunnel(EVENT.TUNNEL.ARTICLE_CHANGE),this.tunnel(EVENT.TUNNEL.SECTION_SCROLL),_ref=this.children,_i=0,_len=_ref.length;_len>_i;_i++)child=_ref[_i],"Section"===child.constructor.base&&(child.attributes.id===id?(child.show(),child.el.focus()):child.el.hasClass("active")&&(child.hide(),child.el.blur()));return"aside-show"===this.el.attr("data-state")?this.aside():void 0},Article.prototype.aside=function(id){var aside_instance,method;return aside_instance=Atoms.App.Aside[id.toClassName()],null!=aside_instance?(method=this.el.hasClass("aside")?"hide":"show",aside_instance[method](),"hide"===method&&this.el.removeClass("aside").removeClass("right"),"right"===aside_instance.attributes.style&&(method+="-right"),this.state("aside-"+method),aside_instance.tunnel(EVENT.TUNNEL.ARTICLE_CHANGE)):void 0},Article.prototype.back=function(){return this.el.addClass("back")},Article.prototype.front=function(){return this.el.removeClass("back")},Article.prototype.onAnimationEnd=function(event){var animation_name,state;return animation_name=event.animationName.split("-")[0],"article"===animation_name?(state=this.el.attr("data-state"),"in"===state||"back-out"===state?this.trigger("show"):("out"===state||"back-in"===state)&&this.trigger("hide"),__indexOf.call(ACTIVE_STATES,state)<0&&this.el.removeClass("active"),("aside-show"===state||"aside-show-right"===state)&&(this.el.addClass("aside"),"aside-show-right"===state&&this.el.addClass("right")),this.el.removeAttr("data-state")):void 0},Article.prototype.onSectionScroll=function(event){return event.addClass=event.down&&(event.percent>5||event.height-event.scroll<128)?!0:!1,this.tunnel("onSectionScroll",event),!1},Article}(Atoms.Class.Organism),Atoms.Organism.Aside=function(_super){function Aside(attributes,scaffold){null==attributes&&(attributes={}),this.onAnimationEnd=__bind(this.onAnimationEnd,this),attributes.method="prepend",Aside.__super__.constructor.call(this,attributes,scaffold),Atoms.App.Aside[this.constructor.name]=this}return __extends(Aside,_super),Aside.template='<aside {{#if.id}}id="{{id}}"{{/if.id}} {{#if.style}}class="{{style}}"{{/if.style}}></aside>',Aside.available=["Organism.Header","Organism.Section","Organism.Footer","Molecule.Navigation","Molecule.Form"],Aside.base="Aside",Aside.events=["show","hide"],Aside.prototype.render=function(){var animation_end,_i,_len,_ref,_results;for(Aside.__super__.render.apply(this,arguments),_ref=Atoms.Core.Constants.ANIMATION.END.split(" "),_results=[],_i=0,_len=_ref.length;_len>_i;_i++)animation_end=_ref[_i],_results.push(this.el.bind(animation_end,this.onAnimationEnd));return _results},Aside.prototype.show=function(){return this.el||this.render(),this.el.addClass("active"),this.el.attr("data-state","in")},Aside.prototype.hide=function(){var _ref;return(null!=(_ref=this.el)?_ref.hasClass("active"):void 0)?this.el.attr("data-state","out"):void 0},Aside.prototype.onAnimationEnd=function(){var state;return state=this.el.attr("data-state"),this.trigger("in"===state?"show":"hide"),this.el.removeAttr("data-state"),"out"===state?this.el.removeClass("active"):void 0},Aside}(Atoms.Class.Organism),Atoms.Organism.Dialog=function(_super){function Dialog(attributes,scaffold){var animation_end,block_el,_i,_len,_ref;for(null==attributes&&(attributes={}),this.onAnimationEnd=__bind(this.onAnimationEnd,this),Dialog.__super__.constructor.call(this,attributes,scaffold),block_el=Atoms.$(document.createElement("div")).attr("data-system","dialog"),Atoms.$(this.attributes.container||document.body).prepend(block_el),this.attributes.container=block_el,Atoms.App.Dialog[this.constructor.name]=this,this.render(),_ref=Atoms.Core.Constants.ANIMATION.END.split(" "),_i=0,_len=_ref.length;_len>_i;_i++)animation_end=_ref[_i],this.el.bind(animation_end,this.onAnimationEnd)}return __extends(Dialog,_super),Dialog.template='<article {{#if.id}}id="{{id}}"{{/if.id}} {{#if.style}}class="{{style}}"{{/if.style}}></article>',Dialog.available=["Organism.Header","Organism.Section","Organism.Footer"],Dialog.base="Dialog",Dialog.events=["show","hide"],Dialog.prototype.show=function(){return this.el.parent().addClass("active"),this.el.addClass("show"),this.trigger("show"),setTimeout(function(_this){return function(){return _this.onAnimationEnd()}}(this),450)},Dialog.prototype.hide=function(){return this.el.addClass("hide"),this.trigger("hide")},Dialog.prototype.onAnimationEnd=function(){return this.el.hasClass("show")&&this.el.removeClass("show"),this.el.hasClass("hide")?(this.el.removeClass("hide"),this.el.parent().removeClass("active")):void 0},Dialog}(Atoms.Class.Organism),Atoms.Organism.Loading=function(_super){function Loading(){return Loading.__super__.constructor.apply(this,arguments)}return __extends(Loading,_super),Loading}(Atoms.Organism.Dialog),new Atoms.Organism.Loading,Atoms.Organism.Push=function(_super){function Push(attributes){this._onTouch=__bind(this._onTouch,this),Push.__super__.constructor.call(this,attributes),this.el.parent().addClass("no-block"),this.el.on("touch",this._onTouch)}return __extends(Push,_super),Push.template="<article>\n  <h1></h1>\n  <section>\n    <figure></figure>\n    <p></p>\n  </section>\n</article>",Push.prototype.show=function(title,description,image,timeout){return null==image&&(image=""),null==timeout&&(timeout=3e3),clearTimeout(this.id_timeout),this.el.parent().removeClass("expand"),this.el.children("h1").html(title),this.el.find("p").html(description),this.el.find("figure").css("background-image","url('"+image+"')"),Push.__super__.show.apply(this,arguments),this.id_timeout=setTimeout(function(_this){return function(){return _this.el.parent().hasClass("expand")?void 0:_this.hide()}}(this),timeout)},Push.prototype.hide=function(){return Push.__super__.hide.apply(this,arguments),__.Url.current().front(),clearTimeout(this.id_timeout)},Push.prototype._onTouch=function(){return this.el.parent().hasClass("expand")?this.hide():(this.el.parent().addClass("expand"),__.Url.current().back())},Push}(Atoms.Organism.Dialog),new Atoms.Organism.Push,Atoms.Organism.Footer=function(_super){function Footer(){Footer.__super__.constructor.apply(this,arguments),this.render()}return __extends(Footer,_super),Footer.template='<footer {{#if.style}}class="{{style}}"{{/if.style}}></footer>',Footer.available=["Atom.Progress","Molecule.Div","Molecule.Navigation"],Footer.base="Footer",Footer.prototype.onSectionScroll=function(event){return this.el[event.addClass?"addClass":"removeClass"]("scroll"),!1},Footer}(Atoms.Class.Organism),Atoms.Organism.Header=function(_super){function Header(){Header.__super__.constructor.apply(this,arguments),this.render()}return __extends(Header,_super),Header.template='<header {{#if.style}}class="{{style}}"{{/if.style}}></header>',Header.available=["Atom.Heading","Atom.Icon","Atom.Image","Atom.Progress","Molecule.Div","Molecule.Navigation"],Header.base="Header",Header.prototype.onSectionScroll=function(event){return this.el[event.addClass?"addClass":"removeClass"]("scroll"),!1},Header}(Atoms.Class.Organism),Atoms.Organism.Section=function(_super){function Section(attributes,scaffold){null==attributes&&(attributes={}),this._scrollEvent=__bind(this._scrollEvent,this),Section.__super__.constructor.call(this,attributes,scaffold),this.render()}return __extends(Section,_super),Section.template='<section {{#if.id}}id="{{id}}"{{/if.id}} {{#if.style}}class="{{style}}"{{/if.style}}></section>',Section.available=["Molecule.Div","Molecule.Form","Molecule.List","Molecule.Navigation","Molecule.Tags","Atom.Audio","Atom.Button","Atom.Figure","Atom.GMap","Atom.Heading","Atom.Icon","Atom.Iframe","Atom.Image","Atom.Leaflet","Atom.Progress","Atom.Text","Atom.Video"],Section.base="Section",Section.events=["show","hide","scroll","pull"],Section.prototype.render=function(){return Section.__super__.render.apply(this,arguments),__indexOf.call(this.attributes.events||[],"scroll")>=0&&this.bindScroll(),__indexOf.call(this.attributes.events||[],"pull")>=0?this.bindPull():void 0},Section.prototype.show=function(){return this.el.addClass("active"),this.bubble("show")},Section.prototype.hide=function(){return this.el.removeClass("active"),this.bubble("hide")},Section.prototype.refresh=function(){return this.pulling=!1,this.el.removeAttr("data-state=pull").css("top","0px"),setTimeout(function(_this){return function(){return _this.el.removeAttr("style").removeClass("loading").removeAttr("data-state")}}(this),300)},Section.prototype.bindScroll=function(){return this.current_scroll=0,this.el.bind("scroll",this._scrollEvent),this.el.bind("touchcancel",this._scrollEvent)},Section.prototype.bindPull=function(){return this.pulling=!1,this.el.bind("touchstart",function(_this){return function(){return _this.el.attr("data-pull",parseInt(_this.el.offset().top))}}(this)),this.el.bind("swiping",function(_this){return function(event){var y;return y=event.touch.delta.y,_this.el[0].scrollTop<16&&!_this.pulling&&y>0&&(event.originalEvent.preventDefault(),y=event.touch.delta.y,y>=0&&80>=y&&(_this.el.attr("data-state","pulling").css("top",""+y+"px"),y>72))?(_this.pulling=!0,_this.bubble("pull",event),_this.el.attr("data-state","pull")):void 0}}(this)),this.el.bind("touchend",function(_this){return function(){return _this.el.css("transition","top 300ms"),_this.pulling?_this.el.addClass("loading"):_this.refresh()}}(this))},Section.prototype._scrollEvent=function(event){var down;return down=event.target.scrollTop>this.current_scroll?!0:!1,this.current_scroll=event.target.scrollTop,event={height:parseInt(event.target.scrollHeight-event.target.getBoundingClientRect().height),scroll:event.target.scrollTop,down:down,up:!down},event.percent=parseInt(100*event.scroll/event.height),this.bubble("scroll",event)},Section}(Atoms.Class.Organism)}.call(this),function(undefined){function dfl(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function printMsg(msg){moment.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){return firstTime&&(printMsg(msg),firstTime=!1),fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){deprecations[name]||(printMsg(msg),deprecations[name]=!0)}function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}function ordinalizeToken(func,period){return function(a){return this.localeData().ordinal(func.call(this,a),period)}}function Locale(){}function Moment(config,skipOverflow){skipOverflow!==!1&&checkOverflow(config),copyConfig(this,config),this._d=new Date(+config._d)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=moment.localeData(),this._bubble()}function extend(a,b){for(var i in b)b.hasOwnProperty(i)&&(a[i]=b[i]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function copyConfig(to,from){var i,prop,val;if("undefined"!=typeof from._isAMomentObject&&(to._isAMomentObject=from._isAMomentObject),"undefined"!=typeof from._i&&(to._i=from._i),"undefined"!=typeof from._f&&(to._f=from._f),"undefined"!=typeof from._l&&(to._l=from._l),"undefined"!=typeof from._strict&&(to._strict=from._strict),"undefined"!=typeof from._tzm&&(to._tzm=from._tzm),"undefined"!=typeof from._isUTC&&(to._isUTC=from._isUTC),"undefined"!=typeof from._offset&&(to._offset=from._offset),"undefined"!=typeof from._pf&&(to._pf=from._pf),"undefined"!=typeof from._locale&&(to._locale=from._locale),momentProperties.length>0)for(i in momentProperties)prop=momentProperties[i],val=from[prop],"undefined"!=typeof val&&(to[prop]=val);return to}function absRound(number){return 0>number?Math.ceil(number):Math.floor(number)}function leftZeroFill(number,targetLength,forceSign){for(var output=""+Math.abs(number),sign=number>=0;output.length<targetLength;)output="0"+output;return(sign?forceSign?"+":"":"-")+output}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return other=makeAs(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period)."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=moment.duration(val,period),addOrSubtractDurationFromMoment(this,dur,direction),this}}function addOrSubtractDurationFromMoment(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=null==updateOffset?!0:updateOffset,milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),days&&rawSetter(mom,"Date",rawGetter(mom,"Date")+days*isAdding),months&&rawMonthSetter(mom,rawGetter(mom,"Month")+months*isAdding),updateOffset&&moment.updateOffset(mom,days||months)}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return"[object Date]"===Object.prototype.toString.call(input)||input instanceof Date}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;len>i;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,"$1");units=unitAliases[units]||camelFunctions[lowered]||lowered}return units}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)inputObject.hasOwnProperty(prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function makeList(field){var count,setter;if(0===field.indexOf("week"))count=7,setter="day";else{if(0!==field.indexOf("month"))return;count=12,setter="month"}moment[field]=function(format,index){var i,getter,method=moment._locale[field],results=[];if("number"==typeof format&&(index=format,format=undefined),getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment._locale,m,format||"")},null!=index)return getter(index);for(i=0;count>i;i++)results.push(getter(i));return results}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=coercedNumber>=0?Math.floor(coercedNumber):Math.ceil(coercedNumber)),value}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function weeksInYear(year,dow,doy){return weekOfYear(moment([year,11,31+dow-doy]),dow,doy).week}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function checkOverflow(m){var overflow;m._a&&-2===m._pf.overflow&&(overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>23?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1,m._pf._overflowDayOfYear&&(YEAR>overflow||overflow>DATE)&&(overflow=DATE),m._pf.overflow=overflow)}function isValid(m){return null==m._isValid&&(m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated,m._strict&&(m._isValid=m._isValid&&0===m._pf.charsLeftOver&&0===m._pf.unusedTokens.length)),m._isValid}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&hasModule)try{oldLocale=moment.locale(),require("./locale/"+name),moment.locale(oldLocale)}catch(e){}return locales[name]}function makeAs(input,model){return model._isUTC?moment(input).zone(model._offset||0):moment(input).local()}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;length>i;i++)array[i]=formatTokenFunctions[array[i]]?formatTokenFunctions[array[i]]:removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;length>i;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]||(formatFunctions[format]=makeFormatFunction(format)),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case"Q":return parseTokenOneDigit;case"DDDD":return parseTokenThreeDigits;case"YYYY":case"GGGG":case"gggg":return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case"Y":case"G":case"g":return parseTokenSignedNumber;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case"S":if(strict)return parseTokenOneDigit;case"SS":if(strict)return parseTokenTwoDigits;case"SSS":if(strict)return parseTokenThreeDigits;case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return config._locale._meridiemParse;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"SSSS":return parseTokenDigits;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return parseTokenOneOrTwoDigits;case"Do":return parseTokenOrdinal;default:return a=new RegExp(regexpEscape(unescapeFormat(token.replace("\\","")),"i"))}}function timezoneMinutesFromString(string){string=string||"";var possibleTzMatches=string.match(parseTokenTimezone)||[],tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+"").match(parseTimezoneChunker)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?-minutes:minutes}function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case"Q":null!=input&&(datePartArray[MONTH]=3*(toInt(input)-1));break;case"M":case"MM":null!=input&&(datePartArray[MONTH]=toInt(input)-1);break;case"MMM":case"MMMM":a=config._locale.monthsParse(input),null!=a?datePartArray[MONTH]=a:config._pf.invalidMonth=input;break;case"D":case"DD":null!=input&&(datePartArray[DATE]=toInt(input));break;case"Do":null!=input&&(datePartArray[DATE]=toInt(parseInt(input,10)));break;case"DDD":case"DDDD":null!=input&&(config._dayOfYear=toInt(input));break;case"YY":datePartArray[YEAR]=moment.parseTwoDigitYear(input);break;case"YYYY":case"YYYYY":case"YYYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._isPm=config._locale.isPM(input);break;case"H":case"HH":case"h":case"hh":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":case"SSSS":datePartArray[MILLISECOND]=toInt(1e3*("0."+input));break;case"X":config._d=new Date(1e3*parseFloat(input));break;case"Z":case"ZZ":config._useUTC=!0,config._tzm=timezoneMinutesFromString(input);break;case"dd":case"ddd":case"dddd":a=config._locale.weekdaysParse(input),null!=a?(config._w=config._w||{},config._w.d=a):config._pf.invalidWeekday=input;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":token=token.substr(0,1);case"gggg":case"GGGG":case"GGGGG":token=token.substr(0,2),input&&(config._w=config._w||{},config._w[token]=toInt(input));break;case"gg":case"GG":config._w=config._w||{},config._w[token]=moment.parseTwoDigitYear(input)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w,null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=dfl(w.GG,config._a[YEAR],weekOfYear(moment(),1,4).year),week=dfl(w.W,1),weekday=dfl(w.E,1)):(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=dfl(w.gg,config._a[YEAR],weekOfYear(moment(),dow,doy).year),week=dfl(w.w,1),null!=w.d?(weekday=w.d,dow>weekday&&++week):weekday=null!=w.e?w.e+dow:dow),temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear}function dateFromConfig(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=dfl(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(config._pf._overflowDayOfYear=!0),date=makeUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()+config._tzm)}}function dateFromObject(config){var normalizedInput;config._d||(normalizedInput=normalizeObjectUnits(config._i),config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond],dateFromConfig(config))}function currentDateArray(config){var now=new Date;return config._useUTC?[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]:[now.getFullYear(),now.getMonth(),now.getDate()]}function makeDateFromStringAndFormat(config){if(config._f===moment.ISO_8601)return void parseISO(config);config._a=[],config._pf.empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&config._pf.unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?config._pf.empty=!1:config._pf.unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&config._pf.unusedTokens.push(token);config._pf.charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&config._pf.unusedInput.push(string),config._isPm&&config._a[HOUR]<12&&(config._a[HOUR]+=12),config._isPm===!1&&12===config._a[HOUR]&&(config._a[HOUR]=0),dateFromConfig(config),checkOverflow(config)}function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return config._pf.invalidFormat=!0,void(config._d=new Date(0/0));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),tempConfig._pf=defaultParsingFlags(),tempConfig._f=config._f[i],makeDateFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore+=tempConfig._pf.charsLeftOver,currentScore+=10*tempConfig._pf.unusedTokens.length,tempConfig._pf.score=currentScore,(null==scoreToBeat||scoreToBeat>currentScore)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function parseISO(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){for(config._pf.iso=!0,i=0,l=isoDates.length;l>i;i++)if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||" ");break}for(i=0,l=isoTimes.length;l>i;i++)if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}string.match(parseTokenTimezone)&&(config._f+="Z"),makeDateFromStringAndFormat(config)}else config._isValid=!1}function makeDateFromString(config){parseISO(config),config._isValid===!1&&(delete config._isValid,moment.createFromInputFallback(config))}function makeDateFromInput(config){var matched,input=config._i;input===undefined?config._d=new Date:isDate(input)?config._d=new Date(+input):null!==(matched=aspNetJsonRegex.exec(input))?config._d=new Date(+matched[1]):"string"==typeof input?makeDateFromString(config):isArray(input)?(config._a=input.slice(0),dateFromConfig(config)):"object"==typeof input?dateFromObject(config):"number"==typeof input?config._d=new Date(input):moment.createFromInputFallback(config)}function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return 1970>y&&date.setFullYear(y),date}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return 1970>y&&date.setUTCFullYear(y),date}function parseWeekday(input,locale){if("string"==typeof input)if(isNaN(input)){if(input=locale.weekdaysParse(input),"number"!=typeof input)return null}else input=parseInt(input,10);return input}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime(posNegDuration,withoutSuffix,locale){var duration=moment.duration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),args=seconds<relativeTimeThresholds.s&&["s",seconds]||1===minutes&&["m"]||minutes<relativeTimeThresholds.m&&["mm",minutes]||1===hours&&["h"]||hours<relativeTimeThresholds.h&&["hh",hours]||1===days&&["d"]||days<relativeTimeThresholds.d&&["dd",days]||1===months&&["M"]||months<relativeTimeThresholds.M&&["MM",months]||1===years&&["y"]||["yy",years];return args[2]=withoutSuffix,args[3]=+posNegDuration>0,args[4]=locale,substituteTimeAgo.apply({},args)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var adjustedMoment,end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day();return daysToDayOfWeek>end&&(daysToDayOfWeek-=7),end-7>daysToDayOfWeek&&(daysToDayOfWeek+=7),adjustedMoment=moment(mom).add(daysToDayOfWeek,"d"),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var daysToAdd,dayOfYear,d=makeUTCDate(year,0,1).getUTCDay();return d=0===d?7:d,weekday=null!=weekday?weekday:firstDayOfWeek,daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(firstDayOfWeek>d?7:0),dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1,{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function makeMoment(config){var input=config._i,format=config._f;return config._locale=config._locale||moment.localeData(config._l),null===input||format===undefined&&""===input?moment.invalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),moment.isMoment(input)?new Moment(input,!0):(format?isArray(format)?makeDateFromStringAndArray(config):makeDateFromStringAndFormat(config):makeDateFromInput(config),new Moment(config)))}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return moment();for(res=moments[0],i=1;i<moments.length;++i)moments[i][fn](res)&&(res=moments[i]);return res}function rawMonthSetter(mom,value){var dayOfMonth;return"string"==typeof value&&(value=mom.localeData().monthsParse(value),"number"!=typeof value)?mom:(dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom)}function rawGetter(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function rawSetter(mom,unit,value){return"Month"===unit?rawMonthSetter(mom,value):mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function makeAccessor(unit,keepTime){return function(value){return null!=value?(rawSetter(this,unit,value),moment.updateOffset(this,keepTime),this):rawGetter(this,unit)
}}function daysToYears(days){return 400*days/146097}function yearsToDays(years){return 146097*years/400}function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}function makeGlobal(shouldDeprecate){"undefined"==typeof ender&&(oldGlobalMoment=globalScope.moment,globalScope.moment=shouldDeprecate?deprecate("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",moment):moment)}for(var moment,oldGlobalMoment,i,VERSION="2.8.1",globalScope="undefined"!=typeof global?global:this,round=Math.round,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,locales={},momentProperties=[],hasModule="undefined"!=typeof module&&module.exports,aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOrdinal=/\d{1,2}/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat="YYYY-MM-DDTHH:mm:ssZ",isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,unitMillisecondFactors=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},camelFunctions={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},formatFunctions={},relativeTimeThresholds={s:45,m:45,h:22,d:26,M:11},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.localeData().monthsShort(this,format)},MMMM:function(format){return this.localeData().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.localeData().weekdaysMin(this,format)},ddd:function(format){return this.localeData().weekdaysShort(this,format)},dddd:function(format){return this.localeData().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year(),sign=y>=0?"+":"-";return sign+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},deprecations={},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ordinalizeTokens.length;)i=ordinalizeTokens.pop(),formatTokenFunctions[i+"o"]=ordinalizeToken(formatTokenFunctions[i],i);for(;paddedTokens.length;)i=paddedTokens.pop(),formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2);formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3),extend(Locale.prototype,{set:function(config){var prop,i;for(i in config)prop=config[i],"function"==typeof prop?this[i]=prop:this["_"+i]=prop},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName){var i,mom,regex;for(this._monthsParse||(this._monthsParse=[]),i=0;12>i;i++)if(this._monthsParse[i]||(mom=moment.utc([2e3,i]),regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),this._monthsParse[i].test(monthName))return i},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;7>i;i++)if(this._weekdaysParse[i]||(mom=moment([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),this._weekdaysParse[i].test(weekdayName))return i},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];return!output&&this._longDateFormat[key.toUpperCase()]&&(output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key]=output),output},isPM:function(input){return"p"===(input+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom){var output=this._calendar[key];return"function"==typeof output?output.apply(mom):output},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),moment=function(input,format,locale,strict){var c;return"boolean"==typeof locale&&(strict=locale,locale=undefined),c={},c._isAMomentObject=!0,c._i=input,c._f=format,c._l=locale,c._strict=strict,c._isUTC=!1,c._pf=defaultParsingFlags(),makeMoment(c)},moment.suppressDeprecationWarnings=!1,moment.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i)}),moment.min=function(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)},moment.max=function(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)},moment.utc=function(input,format,locale,strict){var c;return"boolean"==typeof locale&&(strict=locale,locale=undefined),c={},c._isAMomentObject=!0,c._useUTC=!0,c._isUTC=!0,c._l=locale,c._i=input,c._f=format,c._strict=strict,c._pf=defaultParsingFlags(),makeMoment(c).utc()},moment.unix=function(input){return moment(1e3*input)},moment.duration=function(input,key){var sign,ret,parseIso,diffRes,duration=input,match=null;return moment.isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetTimeSpanJsonRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=isoDurationRegex.exec(input))?(sign="-"===match[1]?-1:1,parseIso=function(inp){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign},duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])}):"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(moment(duration.from),moment(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),moment.isDuration(input)&&input.hasOwnProperty("_locale")&&(ret._locale=input._locale),ret},moment.version=VERSION,moment.defaultFormat=isoFormat,moment.ISO_8601=function(){},moment.momentProperties=momentProperties,moment.updateOffset=function(){},moment.relativeTimeThreshold=function(threshold,limit){return relativeTimeThresholds[threshold]===undefined?!1:limit===undefined?relativeTimeThresholds[threshold]:(relativeTimeThresholds[threshold]=limit,!0)},moment.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",function(key,value){return moment.locale(key,value)}),moment.locale=function(key,values){var data;return key&&(data="undefined"!=typeof values?moment.defineLocale(key,values):moment.localeData(key),data&&(moment.duration._locale=moment._locale=data)),moment._locale._abbr},moment.defineLocale=function(name,values){return null!==values?(values.abbr=name,locales[name]||(locales[name]=new Locale),locales[name].set(values),moment.locale(name),locales[name]):(delete locales[name],null)},moment.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",function(key){return moment.localeData(key)}),moment.localeData=function(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return moment._locale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)},moment.isMoment=function(obj){return obj instanceof Moment||null!=obj&&obj.hasOwnProperty("_isAMomentObject")},moment.isDuration=function(obj){return obj instanceof Duration};for(i=lists.length-1;i>=0;--i)makeList(lists[i]);moment.normalizeUnits=function(units){return normalizeUnits(units)},moment.invalid=function(flags){var m=moment.utc(0/0);return null!=flags?extend(m._pf,flags):m._pf.userInvalidated=!0,m},moment.parseZone=function(){return moment.apply(null,arguments).parseZone()},moment.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)},extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();return 0<m.year()&&m.year()<=9999?formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){return this._a?this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0:!1},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(keepLocalTime){return this.zone(0,keepLocalTime)},local:function(keepLocalTime){return this._isUTC&&(this.zone(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.add(this._d.getTimezoneOffset(),"m")),this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.localeData().postformat(output)},add:createAdder(1,"add"),subtract:createAdder(-1,"subtract"),diff:function(input,units,asFloat){var diff,output,that=makeAs(input,this),zoneDiff=6e4*(this.zone()-that.zone());return units=normalizeUnits(units),"year"===units||"month"===units?(diff=432e5*(this.daysInMonth()+that.daysInMonth()),output=12*(this.year()-that.year())+(this.month()-that.month()),output+=(this-moment(this).startOf("month")-(that-moment(that).startOf("month")))/diff,output-=6e4*(this.zone()-moment(this).startOf("month").zone()-(that.zone()-moment(that).startOf("month").zone()))/diff,"year"===units&&(output/=12)):(diff=this-that,output="second"===units?diff/1e3:"minute"===units?diff/6e4:"hour"===units?diff/36e5:"day"===units?(diff-zoneDiff)/864e5:"week"===units?(diff-zoneDiff)/6048e5:diff),asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(time){var now=time||moment(),sod=makeAs(now,this).startOf("day"),diff=this.diff(sod,"days",!0),format=-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse";return this.format(this.localeData().calendar(format,this))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day},month:makeAccessor("Month",!0),startOf:function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units?this.weekday(0):"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(units){return units=normalizeUnits(units),this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms")},isAfter:function(input,units){return units="undefined"!=typeof units?units:"millisecond",+this.clone().startOf(units)>+moment(input).startOf(units)},isBefore:function(input,units){return units="undefined"!=typeof units?units:"millisecond",+this.clone().startOf(units)<+moment(input).startOf(units)},isSame:function(input,units){return units=units||"ms",+this.clone().startOf(units)===+makeAs(input,this).startOf(units)},min:deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(other){return other=moment.apply(null,arguments),this>other?this:other}),max:deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(other){return other=moment.apply(null,arguments),other>this?this:other}),zone:function(input,keepLocalTime){var localAdjust,offset=this._offset||0;return null==input?this._isUTC?offset:this._d.getTimezoneOffset():("string"==typeof input&&(input=timezoneMinutesFromString(input)),Math.abs(input)<16&&(input=60*input),!this._isUTC&&keepLocalTime&&(localAdjust=this._d.getTimezoneOffset()),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.subtract(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?addOrSubtractDurationFromMoment(this,moment.duration(offset-input,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,moment.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(input){return input=input?moment(input).zone():0,(this.zone()-input)%60===0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")},quarter:function(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},weekYear:function(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==input?year:this.add(input-year,"y")},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add(input-year,"y")},week:function(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")},weekday:function(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")},isoWeekday:function(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)},isoWeeksInYear:function(){return weeksInYear(this.year(),1,4)},weeksInYear:function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},get:function(units){return units=normalizeUnits(units),this[units]()},set:function(units,value){return units=normalizeUnits(units),"function"==typeof this[units]&&this[units](value),this},locale:function(key){return key===undefined?this._locale._abbr:(this._locale=moment.localeData(key),this)},lang:deprecate("moment().lang() is deprecated. Use moment().localeData() instead.",function(key){return key===undefined?this.localeData():(this._locale=moment.localeData(key),this)}),localeData:function(){return this._locale}}),moment.fn.millisecond=moment.fn.milliseconds=makeAccessor("Milliseconds",!1),moment.fn.second=moment.fn.seconds=makeAccessor("Seconds",!1),moment.fn.minute=moment.fn.minutes=makeAccessor("Minutes",!1),moment.fn.hour=moment.fn.hours=makeAccessor("Hours",!0),moment.fn.date=makeAccessor("Date",!0),moment.fn.dates=deprecate("dates accessor is deprecated. Use date instead.",makeAccessor("Date",!0)),moment.fn.year=makeAccessor("FullYear",!0),moment.fn.years=deprecate("years accessor is deprecated. Use year instead.",makeAccessor("FullYear",!0)),moment.fn.days=moment.fn.day,moment.fn.months=moment.fn.month,moment.fn.weeks=moment.fn.week,moment.fn.isoWeeks=moment.fn.isoWeek,moment.fn.quarters=moment.fn.quarter,moment.fn.toJSON=moment.fn.toISOString,extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var seconds,minutes,hours,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,years=0;data.milliseconds=milliseconds%1e3,seconds=absRound(milliseconds/1e3),data.seconds=seconds%60,minutes=absRound(seconds/60),data.minutes=minutes%60,hours=absRound(minutes/60),data.hours=hours%24,days+=absRound(hours/24),years=absRound(daysToYears(days)),days-=absRound(yearsToDays(years)),months+=absRound(days/30),days%=30,years+=absRound(months/12),months%=12,data.days=days,data.months=months,data.years=years},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)},humanize:function(withSuffix){var output=relativeTime(this,!withSuffix,this.localeData());return withSuffix&&(output=this.localeData().pastFuture(+this,output)),this.localeData().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);return this._milliseconds+=dur._milliseconds,this._days+=dur._days,this._months+=dur._months,this._bubble(),this},subtract:function(input,val){var dur=moment.duration(input,val);return this._milliseconds-=dur._milliseconds,this._days-=dur._days,this._months-=dur._months,this._bubble(),this},get:function(units){return units=normalizeUnits(units),this[units.toLowerCase()+"s"]()},as:function(units){var days,months;if(units=normalizeUnits(units),days=this._days+this._milliseconds/864e5,"month"===units||"year"===units)return months=this._months+12*daysToYears(days),"month"===units?months:months/12;switch(days+=yearsToDays(this._months/12),units){case"week":return days/7;case"day":return days;case"hour":return 24*days;case"minute":return 24*days*60;case"second":return 24*days*60*60;case"millisecond":return 24*days*60*60*1e3;default:throw new Error("Unknown unit "+units)}},lang:moment.fn.lang,locale:moment.fn.locale,toIsoString:deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":""):"P0D"},localeData:function(){return this._locale}});for(i in unitMillisecondFactors)unitMillisecondFactors.hasOwnProperty(i)&&makeDurationGetter(i.toLowerCase());moment.duration.fn.asMilliseconds=function(){return this.as("ms")},moment.duration.fn.asSeconds=function(){return this.as("s")},moment.duration.fn.asMinutes=function(){return this.as("m")},moment.duration.fn.asHours=function(){return this.as("h")},moment.duration.fn.asDays=function(){return this.as("d")},moment.duration.fn.asWeeks=function(){return this.as("weeks")},moment.duration.fn.asMonths=function(){return this.as("M")},moment.duration.fn.asYears=function(){return this.as("y")},moment.locale("en",{ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),hasModule?module.exports=moment:"function"==typeof define&&define.amd?(define("moment",function(require,exports,module){return module.config&&module.config()&&module.config().noGlobal===!0&&(globalScope.moment=oldGlobalMoment),moment}),makeGlobal(!0)):makeGlobal()}.call(this),function(factory){"function"==typeof define&&define.amd?define(["moment"],factory):"object"==typeof exports?module.exports=factory(require("../moment")):factory(window.moment)}(function(moment){return moment.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(number){var b=number%10,output=1===~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output},week:{dow:1,doy:4}})}),function(){"use strict";var n=[].slice;window.Sailor=function(){function t(){}return t._env={},t._addToken=function(n){var t;return t=new Url(n),t.query.token=this.token,t.toString()},t.api=null,t.token=null,t.environment=null,t.loadingOn=null,t.loadingOff=null,t.io=null,t.version="0.1.0",t.dom="undefined"!=typeof $$&&null!==$$?$$:$,t.init=function(n,t){return this.io=n,this.io.sails.url=this.api=this._env[t],this.io.sails.environment=this.environment="development"},t.info=function(){return console.log("Sailor :: [api="+this.api+"], [env="+this.environment+"]"),console.log("Sailor :: [token="+this.token+"]")},t.$=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],this.dom.apply(this,t)},t.registerEnvironment=function(n,t){return this._env[n]=t},t.registerEndpoint=function(){var e,o,r,i,l,u,s,a;for(o=arguments[0],l=arguments[1],i=3<=arguments.length?n.call(arguments,2):[],u=new Url(""+t.api+"/"+l),e=s=0,a=i.length;a>s;e=s+=2)r=i[e],u.query[r]=i[e+1];return t[o]=u.toString(),console.log(u.toString())},t.socket=function(n,t,e){var o,r;return null==e&&(e={}),o=new Hope.Promise,r=null!=this.token?this._addToken(t):t,this.io.socket[n.toLowerCase()](r,e,function(){return function(n){return o.done(null,n)}}(this)),o},t.on=function(n,t){var e;return e=new Url(n).path.split("/")[1],this.io.socket.on(e,t)},t.proxy=function(n,t,e,o){var r,i;return null==e&&(e={}),null==o&&(o=!1),r=new Hope.Promise,i=null!=this.token?this._addToken(t):t,o||__.Dialog.Loading.show,this.dom.ajax({url:i,type:n,data:e,dataType:"json",contentType:"application/x-www-form-urlencoded",success:function(n){var t;return o||__.Dialog.Loading.hide(),0===n.status?(t={code:0,message:"Server unavailable"},r.done(t,null)):r.done(null,n)},error:function(){return function(n,t){var e;return o||__.Dialog.Loading.hide(),e={code:t.status,message:t.response},r.done(e,null)}}(this)}),r},t.store=function(n,t){var e;if(null==t&&(t=null),null!=t)return"string"!=typeof t&&(t=JSON.stringify(t)),localStorage.setItem(n,t);try{return JSON.parse(localStorage.getItem(n))}catch(o){return e=o,localStorage.getItem(n)}},t.removeStore=function(n){return localStorage.removeItem(n)},t}()}.call(this);